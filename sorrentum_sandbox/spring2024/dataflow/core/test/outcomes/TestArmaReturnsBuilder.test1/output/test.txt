################################################################################
config
################################################################################
rets/read_data:
  frequency: T
  start_date: 2010-01-04 09:00:00
  end_date: 2010-01-04 16:30:00
  ar_coeffs: [0]
  ma_coeffs: [0]
  scale: 0.1
  burnin: 0
  seed: 0
rets/filter_ath:
  col_mode: replace_all
  transformer_kwargs:
    start_time: 09:30:00
    end_time: 16:00:00
rets/resample:
  func_kwargs:
    rule: 5T
    resampling_groups: [({'close': 'twap'}, 'mean', {})]
    vwap_groups: [('close', 'volume', 'vwap')]
rets/compute_ret_0:
  cols: ['twap', 'vwap']
  col_mode: merge_all
  transformer_kwargs:
    mode: pct_change
rets/model_volatility:
  cols: ['vwap_ret_0']
  steps_ahead: 2
  nan_mode: leave_unchanged
rets/clip:
  cols: ['vwap_ret_0_vol_adj']
  col_mode: replace_selected
################################################################################
df_out
################################################################################
                         twap      vwap  twap_ret_0  vwap_ret_0  vwap_ret_0_vol  vwap_ret_0_vol.shift_-2  vwap_ret_0_vol.shift_-2_hat  vwap_ret_0_vol_adj
2010-01-04 09:00:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:05:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:10:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:15:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:20:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:25:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:30:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:35:00  1.125478  1.125478         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 09:40:00  1.131899  1.131899    0.005705    0.005705        0.005705          0.020571                   NaN                 NaN
2010-01-04 09:45:00  1.100203  1.100203   -0.028003   -0.028003        0.028003          0.019721                   NaN                 NaN
2010-01-04 09:50:00  1.077571  1.077571   -0.020571   -0.020571        0.020571          0.005992                   NaN                 NaN
2010-01-04 09:55:00  1.056320  1.056320   -0.019721   -0.019721        0.019721          0.029552                   NaN                 NaN
2010-01-04 10:00:00  1.049990  1.049990   -0.005992   -0.005992        0.005992          0.026747                   NaN                 NaN
2010-01-04 10:05:00  1.018961  1.018961   -0.029552   -0.029552        0.029552          0.006706                   NaN                 NaN
2010-01-04 10:10:00  0.991706  0.991706   -0.026747   -0.026747        0.026747          0.022768                   NaN                 NaN
2010-01-04 10:15:00  0.998356  0.998356    0.006706    0.006706        0.006706          0.001913                   NaN                 NaN
2010-01-04 10:20:00  0.975626  0.975626   -0.022768   -0.022768        0.022768          0.026514                   NaN                 NaN
2010-01-04 10:25:00  0.977493  0.977493    0.001913    0.001913        0.001913          0.021296                   NaN                 NaN
2010-01-04 10:30:00  1.003410  1.003410    0.026514    0.026514        0.026514          0.033237                   NaN                 NaN
2010-01-04 10:35:00  1.024778  1.024778    0.021296    0.021296        0.021296          0.002868                   NaN                 NaN
2010-01-04 10:40:00  1.058839  1.058839    0.033237    0.033237        0.033237          0.021301                   NaN                 NaN
2010-01-04 10:45:00  1.061876  1.061876    0.002868    0.002868        0.002868          0.045026                   NaN                 NaN
2010-01-04 10:50:00  1.084495  1.084495    0.021301    0.021301        0.021301          0.027450                   NaN                 NaN
2010-01-04 10:55:00  1.133325  1.133325    0.045026    0.045026        0.045026          0.006975                   NaN                 NaN
2010-01-04 11:00:00  1.164435  1.164435    0.027450    0.027450        0.027450          0.015255                   NaN                 NaN
2010-01-04 11:05:00  1.172557  1.172557    0.006975    0.006975        0.006975          0.001630                   NaN                 NaN
2010-01-04 11:10:00  1.190444  1.190444    0.015255    0.015255        0.015255          0.000468                   NaN                 NaN
2010-01-04 11:15:00  1.192384  1.192384    0.001630    0.001630        0.001630          0.003743                   NaN                 NaN
2010-01-04 11:20:00  1.191826  1.191826   -0.000468   -0.000468        0.000468          0.014644                   NaN                 NaN
2010-01-04 11:25:00  1.196286  1.196286    0.003743    0.003743        0.003743          0.001837                   NaN                 NaN
2010-01-04 11:30:00  1.213805  1.213805    0.014644    0.014644        0.014644          0.017511                   NaN                 NaN
2010-01-04 11:35:00  1.211576  1.211576   -0.001837   -0.001837        0.001837          0.010847                   NaN                 NaN
2010-01-04 11:40:00  1.190360  1.190360   -0.017511   -0.017511        0.017511          0.010399                   NaN                 NaN
2010-01-04 11:45:00  1.203272  1.203272    0.010847    0.010847        0.010847          0.014380                   NaN                 NaN
2010-01-04 11:50:00  1.190759  1.190759   -0.010399   -0.010399        0.010399          0.018395                   NaN                 NaN
2010-01-04 11:55:00  1.207882  1.207882    0.014380    0.014380        0.014380          0.038041                   NaN                 NaN
2010-01-04 12:00:00  1.185663  1.185663   -0.018395   -0.018395        0.018395          0.030340                   NaN                 NaN
2010-01-04 12:05:00  1.140559  1.140559   -0.038041   -0.038041        0.038041          0.006820                   NaN                 NaN
2010-01-04 12:10:00  1.105955  1.105955   -0.030340   -0.030340        0.030340          0.029471                   NaN                 NaN
2010-01-04 12:15:00  1.098412  1.098412   -0.006820   -0.006820        0.006820          0.025227                   NaN                 NaN
2010-01-04 12:20:00  1.130783  1.130783    0.029471    0.029471        0.029471          0.007313                   NaN                 NaN
2010-01-04 12:25:00  1.159309  1.159309    0.025227    0.025227        0.025227          0.008451                   NaN                 NaN
2010-01-04 12:30:00  1.150831  1.150831   -0.007313   -0.007313        0.007313          0.005150              0.020634                 NaN
2010-01-04 12:35:00  1.160557  1.160557    0.008451    0.008451        0.008451          0.008423              0.020075                 NaN
2010-01-04 12:40:00  1.166534  1.166534    0.005150    0.005150        0.005150          0.011625              0.019467            0.249581
2010-01-04 12:45:00  1.156708  1.156708   -0.008423   -0.008423        0.008423          0.024308              0.018960           -0.419593
2010-01-04 12:50:00  1.143261  1.143261   -0.011625   -0.011625        0.011625          0.002285              0.018584           -0.597150
2010-01-04 12:55:00  1.115471  1.115471   -0.024308   -0.024308        0.024308          0.014761              0.018992           -1.282078
2010-01-04 13:00:00  1.118019  1.118019    0.002285    0.002285        0.002285          0.006250              0.018402            0.122945
2010-01-04 13:05:00  1.101516  1.101516   -0.014761   -0.014761        0.014761          0.008093              0.018198           -0.777236
2010-01-04 13:10:00  1.094631  1.094631   -0.006250   -0.006250        0.006250          0.018798              0.017699           -0.339645
2010-01-04 13:15:00  1.085773  1.085773   -0.008093   -0.008093        0.008093          0.031970              0.017266           -0.444689
2010-01-04 13:20:00  1.065363  1.065363   -0.018798   -0.018798        0.018798          0.006275              0.017363           -1.062097
2010-01-04 13:25:00  1.031303  1.031303   -0.031970   -0.031970        0.031970          0.010335              0.018577           -1.851653
2010-01-04 13:30:00  1.024831  1.024831   -0.006275   -0.006275        0.006275          0.001706              0.018074           -0.361396
2010-01-04 13:35:00  1.014240  1.014240   -0.010335   -0.010335        0.010335          0.019587              0.017705           -0.556341
2010-01-04 13:40:00  1.012510  1.012510   -0.001706   -0.001706        0.001706          0.018878              0.017172           -0.094377
2010-01-04 13:45:00  1.032341  1.032341    0.019587    0.019587        0.019587          0.017077              0.017326            1.106291
2010-01-04 13:50:00  1.051830  1.051830    0.018878    0.018878        0.018878          0.010792              0.017422            1.099322
2010-01-04 13:55:00  1.069792  1.069792    0.017077    0.017077        0.017077          0.004639              0.017401            0.985679
2010-01-04 14:00:00  1.081338  1.081338    0.010792    0.010792        0.010792          0.023225              0.017082            0.619472
2010-01-04 14:05:00  1.086354  1.086354    0.004639    0.004639        0.004639          0.005875              0.016610            0.266585
2010-01-04 14:10:00  1.061124  1.061124   -0.023225   -0.023225        0.023225          0.011645              0.017070           -1.359592
2010-01-04 14:15:00  1.054890  1.054890   -0.005875   -0.005875        0.005875          0.023439              0.016623           -0.353699
2010-01-04 14:20:00  1.042606  1.042606   -0.011645   -0.011645        0.011645          0.005088              0.016373           -0.682198
2010-01-04 14:25:00  1.018168  1.018168   -0.023439   -0.023439        0.023439          0.008811              0.016867           -1.410034
2010-01-04 14:30:00  1.023349  1.023349    0.005088    0.005088        0.005088          0.023355              0.016415            0.310744
2010-01-04 14:35:00  1.014332  1.014332   -0.008811   -0.008811        0.008811          0.002970              0.016072           -0.522378
2010-01-04 14:40:00  0.990643  0.990643   -0.023355   -0.023355        0.023355          0.010163              0.016582           -1.422794
2010-01-04 14:45:00  0.987700  0.987700   -0.002970   -0.002970        0.002970          0.012545              0.016110           -0.184818
2010-01-04 14:50:00  0.977662  0.977662   -0.010163   -0.010163        0.010163          0.028950              0.015827           -0.612894
2010-01-04 14:55:00  0.965397  0.965397   -0.012545   -0.012545        0.012545          0.016362              0.015657           -0.778722
2010-01-04 15:00:00  0.937449  0.937449   -0.028950   -0.028950        0.028950          0.006177              0.016713           -1.829093
2010-01-04 15:05:00  0.952788  0.952788    0.016362    0.016362        0.016362          0.009861              0.016693            1.045075
2010-01-04 15:10:00  0.946902  0.946902   -0.006177   -0.006177        0.006177          0.002282              0.016273           -0.369608
2010-01-04 15:15:00  0.937565  0.937565   -0.009861   -0.009861        0.009861          0.035019              0.015975           -0.590757
2010-01-04 15:20:00  0.935425  0.935425   -0.002282   -0.002282        0.002282          0.031175              0.015519           -0.140226
2010-01-04 15:25:00  0.902668  0.902668   -0.035019   -0.035019        0.035019          0.008201              0.017243           -2.192140
2010-01-04 15:30:00  0.874527  0.874527   -0.031175   -0.031175        0.031175          0.013812              0.018329           -2.008760
2010-01-04 15:35:00  0.867355  0.867355   -0.008201   -0.008201        0.008201          0.000834              0.017905           -0.475630
2010-01-04 15:40:00  0.879335  0.879335    0.013812    0.013812        0.013812          0.003400              0.017696            0.753559
2010-01-04 15:45:00  0.878601  0.878601   -0.000834   -0.000834        0.000834          0.004600              0.017185           -0.046585
2010-01-04 15:50:00  0.875615  0.875615   -0.003400   -0.003400        0.003400          0.037824              0.016707           -0.192106
2010-01-04 15:55:00  0.871587  0.871587   -0.004600   -0.004600        0.004600               NaN                   NaN           -0.267670
2010-01-04 16:00:00  0.904554  0.904554    0.037824    0.037824        0.037824               NaN                   NaN            2.263973
2010-01-04 16:05:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 16:10:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 16:15:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 16:20:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 16:25:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
2010-01-04 16:30:00       NaN       NaN         NaN         NaN             NaN               NaN                   NaN                 NaN
