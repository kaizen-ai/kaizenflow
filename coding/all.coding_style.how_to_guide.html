
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="all.code_review.how_to_guide.html">
      
      
        <link rel="next" href="all.gsheet_into_pandas.how_to_guide.html">
      
      
      <link rel="icon" href="../mkdocs/assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Coding Style - KaizenAI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../mkdocs/styles/styles.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#coding-style" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="KaizenAI Documentation" class="md-header__button md-logo" aria-label="KaizenAI Documentation" data-md-component="logo">
      
  <img src="../mkdocs/assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KaizenAI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Coding Style
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="KaizenAI Documentation" class="md-nav__button md-logo" aria-label="KaizenAI Documentation" data-md-component="logo">
      
  <img src="../mkdocs/assets/logo.png" alt="logo">

    </a>
    KaizenAI Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaizen Technologies internal documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../all.code_organization.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Organization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../all.documentation_meta.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation Meta
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../all.software_components.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Components
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../all.workflow.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../meta.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Build
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build/all.linter_gh_workflow.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linter Gh Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build/all.pytest_allure.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest Allure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build/all.pytest_allure.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest Allure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../build/all.semgrep_workflow.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semgrep Integration in GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Coding
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Coding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.asyncio.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asyncio Best Practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_design.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_like_pragmatic_programmer.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Like Pragmatic Programmer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.code_review.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Review
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Coding Style
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="all.coding_style.how_to_guide.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Coding Style
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kaizenflow-python-style-guide" class="md-nav__link">
    <span class="md-ellipsis">
      KaizenFlow - Python Style Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta" class="md-nav__link">
    <span class="md-ellipsis">
      Meta
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disclaimer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-principles" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-Level Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow-the-dry-principle" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the DRY principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-writer-is-the-reader" class="md-nav__link">
    <span class="md-ellipsis">
      The writer is the reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encapsulate-what-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Encapsulate what changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least-surprise-principle" class="md-nav__link">
    <span class="md-ellipsis">
      Least surprise principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pay-the-technical-debt" class="md-nav__link">
    <span class="md-ellipsis">
      Pay the technical debt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-to-end-first" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-end first
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-test-everything" class="md-nav__link">
    <span class="md-ellipsis">
      Unit test everything
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-get-attached-to-code" class="md-nav__link">
    <span class="md-ellipsis">
      Don't get attached to code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-plan-before-writing-code" class="md-nav__link">
    <span class="md-ellipsis">
      Always plan before writing code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-hard-about-naming" class="md-nav__link">
    <span class="md-ellipsis">
      Think hard about naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#look-for-inconsistencies" class="md-nav__link">
    <span class="md-ellipsis">
      Look for inconsistencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-ugly-hacks" class="md-nav__link">
    <span class="md-ellipsis">
      No ugly hacks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-coding-suggestions" class="md-nav__link">
    <span class="md-ellipsis">
      Our coding suggestions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Our coding suggestions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#being-careful-with-naming" class="md-nav__link">
    <span class="md-ellipsis">
      Being careful with naming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Being careful with naming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow-the-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow-spelling-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Follow spelling rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-good-names-avoid-bad-names" class="md-nav__link">
    <span class="md-ellipsis">
      Search good names, avoid bad names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search good names, avoid bad names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-naming-rules" class="md-nav__link">
    <span class="md-ellipsis">
      General naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-be-stingy" class="md-nav__link">
    <span class="md-ellipsis">
      Do not be stingy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-abbreviate-just-to-save-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Do not abbreviate just to save characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      When to use abbreviations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-code-stutter" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid code stutter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments-and-docstrings" class="md-nav__link">
    <span class="md-ellipsis">
      Comments and docstrings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments and docstrings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      General conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptive-vs-imperative-style" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptive vs imperative style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docstrings-style" class="md-nav__link">
    <span class="md-ellipsis">
      Docstrings style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments-style" class="md-nav__link">
    <span class="md-ellipsis">
      Comments style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-empty-lines-in-code-with-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Replace empty lines in code with comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comment-chunk-of-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Comment chunk of codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referring-to-an-object-in-code-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to an object in code comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-distracting-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid distracting comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commenting-out-code" class="md-nav__link">
    <span class="md-ellipsis">
      Commenting out code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-type-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Use type hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval-notation" class="md-nav__link">
    <span class="md-ellipsis">
      Interval notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-find-a-bug-or-obsolete-docstringtodo-in-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      If you find a bug or obsolete docstring/TODO in the code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linter" class="md-nav__link">
    <span class="md-ellipsis">
      Linter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-linter-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Remove linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-disable-linter-messages" class="md-nav__link">
    <span class="md-ellipsis">
      When to disable linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefer-non-inlined-linter-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Prefer non-inlined linter comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-mix-real-changes-with-linter-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Don't mix real changes with linter changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always-use-logging-instead-of-prints" class="md-nav__link">
    <span class="md-ellipsis">
      Always use logging instead of prints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our-logging-idiom" class="md-nav__link">
    <span class="md-ellipsis">
      Our logging idiom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-level" class="md-nav__link">
    <span class="md-ellipsis">
      Logging level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-pick-the-level-for-a-logging-statement" class="md-nav__link">
    <span class="md-ellipsis">
      How to pick the level for a logging statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-positional-args-when-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions-dont-allow-positional-args" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions don't allow positional args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Report warnings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate-values-before-an-assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Validate values before an assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode-the-assumptions-using-assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Encode the assumptions using assertions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-positional-args-when-asserting" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when asserting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-as-much-information-as-possible-in-an-assertion" class="md-nav__link">
    <span class="md-ellipsis">
      Report as much information as possible in an assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Imports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont-use-evil-import" class="md-nav__link">
    <span class="md-ellipsis">
      Don't use evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleaning-up-the-evil-import" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning up the evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-from-import" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid from ... import ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions-to-the-import-style" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions to the import style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-import-with-a-full-path-from-the-root-of-the-repo-submodule" class="md-nav__link">
    <span class="md-ellipsis">
      Always import with a full path from the root of the repo / submodule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baptizing-module-import" class="md-nav__link">
    <span class="md-ellipsis">
      Baptizing module import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-imports" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of imports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-python-and-not-bash-for-scripting" class="md-nav__link">
    <span class="md-ellipsis">
      Use Python and not bash for scripting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleton-for-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Skeleton for a script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-useful-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Some useful patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-scripts-and-not-notebooks-for-long-running-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Use scripts and not notebooks for long-running jobs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow-the-same-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the same structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-clear-names-for-the-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use clear names for the scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid-using-non-exclusive-bool-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid using non-exclusive bool arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-to-make-functions-work-on-multiple-types" class="md-nav__link">
    <span class="md-ellipsis">
      Try to make functions work on multiple types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-hard-wired-column-name-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid hard-wired column name dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-exit-point-from-a-function" class="md-nav__link">
    <span class="md-ellipsis">
      Single exit point from a function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-of-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Order of function parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Order of function parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-of-ordering-of-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency of ordering of function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#style-for-default-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      Style for default parameter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Style for default parameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calling-functions-with-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Calling functions with default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Calling functions with default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_2" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-repeat-non-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Don't repeat non-default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Don't repeat non-default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_3" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_3" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_2" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-clear-beautiful-code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing clear beautiful code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing clear beautiful code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keep-related-code-close" class="md-nav__link">
    <span class="md-ellipsis">
      Keep related code close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-functions-in-topological-order" class="md-nav__link">
    <span class="md-ellipsis">
      Order functions in topological order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinguish-public-and-private-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Distinguish public and private functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-public-functions-organized-in-a-logical-order" class="md-nav__link">
    <span class="md-ellipsis">
      Keep public functions organized in a logical order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-make-tiny-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Do not make tiny wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-introduce-another-concept-unless-really-needed" class="md-nav__link">
    <span class="md-ellipsis">
      Do not introduce another “concept” unless really needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-none-or-keep-one-type" class="md-nav__link">
    <span class="md-ellipsis">
      Return None or keep one type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-wall-of-text-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid wall-of-text functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-robust-code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing robust code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing robust code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont-let-your-functions-catch-the-default-itis" class="md-nav__link">
    <span class="md-ellipsis">
      Don’t let your functions catch the default-itis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicitly-bind-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Explicitly bind default parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-hardwire-params-in-a-function-call" class="md-nav__link">
    <span class="md-ellipsis">
      Don’t hardwire params in a function call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-if-elif-else-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Make if-elif-else complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-todos-when-needed" class="md-nav__link">
    <span class="md-ellipsis">
      Add TODOs when needed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-python-mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Python mistakes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Python mistakes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-is" class="md-nav__link">
    <span class="md-ellipsis">
      == vs is
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-vs-isinstance" class="md-nav__link">
    <span class="md-ellipsis">
      type() vs isinstance()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Unit tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refactoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-moving-refactoring-code" class="md-nav__link">
    <span class="md-ellipsis">
      When moving / refactoring code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-script-for-renamings" class="md-nav__link">
    <span class="md-ellipsis">
      Write script for renamings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-and-design-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural and design pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural and design pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#research-quality-vs-production-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Research quality vs production quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-separate-what-changes-from-what-stays-the-same" class="md-nav__link">
    <span class="md-ellipsis">
      Always separate what changes from what stays the same
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organize-scripts-as-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      Organize scripts as pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-filename-unique" class="md-nav__link">
    <span class="md-ellipsis">
      Make filename unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-end-to-end" class="md-nav__link">
    <span class="md-ellipsis">
      Run end-to-end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-about-scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Think about scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-command-line-for-reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      Use command line for reproducibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure-the-code-in-terms-of-filters" class="md-nav__link">
    <span class="md-ellipsis">
      Structure the code in terms of filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-style-for-different-languages" class="md-nav__link">
    <span class="md-ellipsis">
      Code style for different languages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code style for different languages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-addendum" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions (Addendum)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conventions (Addendum)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#be-patient" class="md-nav__link">
    <span class="md-ellipsis">
      Be patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal" class="md-nav__link">
    <span class="md-ellipsis">
      Goal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-the-rules-simple" class="md-nav__link">
    <span class="md-ellipsis">
      Keep the rules simple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-turning-off-the-automatic-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Allow turning off the automatic tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-the-spell-checker-happy" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spell-checker happy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.gsheet_into_pandas.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gsheet Into Pandas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.hcache.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.hplayback.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playback
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.imports_and_packages.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imports And Packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.integrate_repos.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrate Repos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.jupyter_notebook.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter Notebook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.plotting.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best practices for writing plotting functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.profiling.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.publish_notebook.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing a notebook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.qgrid.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Qgrid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.reading_other_people_code.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading Other People Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.run_jupyter_notebook.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run Jupyter notebook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.run_unit_tests.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run Unit Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.str_to_df.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Converting a string into a Pandas df
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.submit_code_for_review.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First Review Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.type_hints.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Type Hints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="all.write_unit_tests.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Write Unit Tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dataflow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Dataflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.batch_and_streaming_mode_using_tiling.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Batch And Streaming Mode Using Tiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.best_practice_for_building_dags.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practice For Building Dags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.computation_as_graphs.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computation As Graphs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.dag.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.dataflow.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFlow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.dataflow_data_format.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFlow Data Format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.simulation_output.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All.simulation output.reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.time_series.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time series
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.timing_semantic_and_clocks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timing Semantic And Clocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataflow/all.train_and_predict_phases.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phases of evaluation of Dag
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Datapull
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Datapull
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.data_schema.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.datapull_client_stack.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data client stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.datapull_derived_data.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derived data workflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.datapull_qa_flow.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data QA workflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.datapull_sandbox.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataPull sandbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.dataset_onboarding_checklist.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset onboarding checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datapull/all.update_CCXT_version.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update Ccxt Version
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dev tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Dev tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_1" >
        
          
          <label class="md-nav__link" for="__nav_11_1" id="__nav_11_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Thin env
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_1">
            <span class="md-nav__icon md-icon"></span>
            Thin env
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev_tools/thin_env/all.gh_and_thin_env_requirements.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Required Packages for the thin environment and GH Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev_tools/thin_env/all.gh_thin_env_dependencies.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All.gh thin env dependencies.how to guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation meta
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Documentation meta
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.architecture_diagrams.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Diagrams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.diataxis.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diataxis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.gdocs.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All.gdocs.how to guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.google_technical_writing.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google Technical Writing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/all.writing_docs.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing Docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation_meta/plotting_in_latex.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting in latex.how to guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General background
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            General background
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.common_abbreviations.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common abbreviations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.glossary.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.literature_review.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Literature Review
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general_background/all.reading_list.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading List
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Infra
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            Infra
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.auto_scaling.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auto Scaling Explanation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.aws_iam_configuration.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS IAM Configuration Best Practices Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.aws_scripts.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Scripts Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.infrastructure_glossary.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.infrastructure_update_rollout.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standardized Update Rollout Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/all.rds.comparison.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison of AWS RDS Instance Types and Storage Performance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kaizenflow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Kaizenflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kaizenflow/all.dev_scripts_catalogue.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dev Scripts Catalogue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kaizenflow/all.devops_code_organization.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    All.devops code organization.reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kaizenflow/all.install_helpers.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Helpers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kaizenflow/all.run_Mock2_in_batch_mode.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run Mock2 In Batch Mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kaizenflow/all.run_end_to_end_Mock2_system.tutorial.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run End To End Mock2 System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Onboarding
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            Onboarding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/admin.onboarding_process.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    On-boarding Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.communicate_in_telegram.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communicate In Telegram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.development_documents.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Documents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.onboarding_checklist.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Onboarding Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.organize_email.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Organize Email
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.receive_crypto_payment.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Receive Crypto Payment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/all.track_time_with_hubstaff.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Track Time With Hubstaff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/kaizenflow.hiring_meister.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/kaizenflow.set_up_development_environment.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set up KaizenFlow development environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding/kaizenflow.signing_up.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signing up to the project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Trading ops
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            Trading ops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trading_ops/all.how_to_name_objects.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to name objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trading_ops/all.scheduled_monitoring.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduled trading monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trading_ops/all.scheduled_trading.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing Experiment Reports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trading_ops/all.shadow_monitoring.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shadow trading monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trading_ops/all.trading_run_summary_sheet.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trading Run Summary Sheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Work organization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Work organization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/Hiring_process.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HiringMeister
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.buildmeister.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buildmeister
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.contributor_scoring.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Scoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.datapull_DAGmeister.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datapull Dagmeister
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.epicmeister.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Epicmeister
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.rollout.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rollout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.scrum.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scrum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.team_collaboration.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Team Collaboration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/all.use_github_and_zenhub.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Github And Zenhub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_organization/kaizenflow.organize_your_work.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Golden rules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Work tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            Work tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.add_toc_to_notebook.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding a table of contents to a notebook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.bfg_repo_cleaner.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BFG Repo-Cleaner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.chatgpt_api.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chatgpt Api
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.codebase_clean_up.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Codebase Clean Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.conda_environment_obsolete.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conda Environment Obsolete
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.development.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.dind_and_sibling_containers.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker-in-docker (dind)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.docker.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.docker.tutorial.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.docker_dev_tools_container.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dev tools container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.docker_optimizer_container.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizer container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.dockerhub.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dockerhub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.gh_and_thin_env_requirements.reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Required Packages for the thin environment and GH Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.gh_thin_env_dependencies.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thin environment dependencies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.git.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.invoke_workflows.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Invoke Workflows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.jupytext.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupytext
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.latex_toolchain.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Latex Toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.parquet.explanation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pyarrow Parquet management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.pycharm.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pycharm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.python_package_upgrade_and_troubleshooting.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python package upgrade &amp; troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.ssh.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ssh
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.telegram_notify_bot.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    telegram-notify
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work_tools/all.visual_studio_code.how_to_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visual Studio Code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kaizenflow-python-style-guide" class="md-nav__link">
    <span class="md-ellipsis">
      KaizenFlow - Python Style Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta" class="md-nav__link">
    <span class="md-ellipsis">
      Meta
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disclaimer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-principles" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Principles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-Level Principles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow-the-dry-principle" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the DRY principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-writer-is-the-reader" class="md-nav__link">
    <span class="md-ellipsis">
      The writer is the reader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encapsulate-what-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Encapsulate what changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least-surprise-principle" class="md-nav__link">
    <span class="md-ellipsis">
      Least surprise principle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pay-the-technical-debt" class="md-nav__link">
    <span class="md-ellipsis">
      Pay the technical debt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-to-end-first" class="md-nav__link">
    <span class="md-ellipsis">
      End-to-end first
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-test-everything" class="md-nav__link">
    <span class="md-ellipsis">
      Unit test everything
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-get-attached-to-code" class="md-nav__link">
    <span class="md-ellipsis">
      Don't get attached to code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-plan-before-writing-code" class="md-nav__link">
    <span class="md-ellipsis">
      Always plan before writing code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-hard-about-naming" class="md-nav__link">
    <span class="md-ellipsis">
      Think hard about naming
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#look-for-inconsistencies" class="md-nav__link">
    <span class="md-ellipsis">
      Look for inconsistencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-ugly-hacks" class="md-nav__link">
    <span class="md-ellipsis">
      No ugly hacks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#our-coding-suggestions" class="md-nav__link">
    <span class="md-ellipsis">
      Our coding suggestions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Our coding suggestions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#being-careful-with-naming" class="md-nav__link">
    <span class="md-ellipsis">
      Being careful with naming
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Being careful with naming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#follow-the-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow-spelling-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Follow spelling rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-good-names-avoid-bad-names" class="md-nav__link">
    <span class="md-ellipsis">
      Search good names, avoid bad names
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Search good names, avoid bad names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-naming-rules" class="md-nav__link">
    <span class="md-ellipsis">
      General naming rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-be-stingy" class="md-nav__link">
    <span class="md-ellipsis">
      Do not be stingy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-abbreviate-just-to-save-characters" class="md-nav__link">
    <span class="md-ellipsis">
      Do not abbreviate just to save characters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      When to use abbreviations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-code-stutter" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid code stutter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments-and-docstrings" class="md-nav__link">
    <span class="md-ellipsis">
      Comments and docstrings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments and docstrings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      General conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptive-vs-imperative-style" class="md-nav__link">
    <span class="md-ellipsis">
      Descriptive vs imperative style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docstrings-style" class="md-nav__link">
    <span class="md-ellipsis">
      Docstrings style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments-style" class="md-nav__link">
    <span class="md-ellipsis">
      Comments style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-empty-lines-in-code-with-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Replace empty lines in code with comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comment-chunk-of-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Comment chunk of codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referring-to-an-object-in-code-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Referring to an object in code comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-distracting-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid distracting comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commenting-out-code" class="md-nav__link">
    <span class="md-ellipsis">
      Commenting out code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-type-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Use type hints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interval-notation" class="md-nav__link">
    <span class="md-ellipsis">
      Interval notation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-find-a-bug-or-obsolete-docstringtodo-in-the-code" class="md-nav__link">
    <span class="md-ellipsis">
      If you find a bug or obsolete docstring/TODO in the code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linter" class="md-nav__link">
    <span class="md-ellipsis">
      Linter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-linter-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Remove linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-disable-linter-messages" class="md-nav__link">
    <span class="md-ellipsis">
      When to disable linter messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefer-non-inlined-linter-comments" class="md-nav__link">
    <span class="md-ellipsis">
      Prefer non-inlined linter comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-mix-real-changes-with-linter-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Don't mix real changes with linter changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always-use-logging-instead-of-prints" class="md-nav__link">
    <span class="md-ellipsis">
      Always use logging instead of prints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our-logging-idiom" class="md-nav__link">
    <span class="md-ellipsis">
      Our logging idiom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-level" class="md-nav__link">
    <span class="md-ellipsis">
      Logging level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-pick-the-level-for-a-logging-statement" class="md-nav__link">
    <span class="md-ellipsis">
      How to pick the level for a logging statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-positional-args-when-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions-dont-allow-positional-args" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions don't allow positional args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      Report warnings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate-values-before-an-assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Validate values before an assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode-the-assumptions-using-assertions" class="md-nav__link">
    <span class="md-ellipsis">
      Encode the assumptions using assertions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-positional-args-when-asserting" class="md-nav__link">
    <span class="md-ellipsis">
      Use positional args when asserting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#report-as-much-information-as-possible-in-an-assertion" class="md-nav__link">
    <span class="md-ellipsis">
      Report as much information as possible in an assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Imports">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont-use-evil-import" class="md-nav__link">
    <span class="md-ellipsis">
      Don't use evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cleaning-up-the-evil-import" class="md-nav__link">
    <span class="md-ellipsis">
      Cleaning up the evil import *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-from-import" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid from ... import ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions-to-the-import-style" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions to the import style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-import-with-a-full-path-from-the-root-of-the-repo-submodule" class="md-nav__link">
    <span class="md-ellipsis">
      Always import with a full path from the root of the repo / submodule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baptizing-module-import" class="md-nav__link">
    <span class="md-ellipsis">
      Baptizing module import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-imports" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of imports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-python-and-not-bash-for-scripting" class="md-nav__link">
    <span class="md-ellipsis">
      Use Python and not bash for scripting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleton-for-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      Skeleton for a script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-useful-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Some useful patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-scripts-and-not-notebooks-for-long-running-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Use scripts and not notebooks for long-running jobs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#follow-the-same-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Follow the same structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-clear-names-for-the-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use clear names for the scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#avoid-using-non-exclusive-bool-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid using non-exclusive bool arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#try-to-make-functions-work-on-multiple-types" class="md-nav__link">
    <span class="md-ellipsis">
      Try to make functions work on multiple types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-hard-wired-column-name-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid hard-wired column name dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-exit-point-from-a-function" class="md-nav__link">
    <span class="md-ellipsis">
      Single exit point from a function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-of-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Order of function parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Order of function parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-of-ordering-of-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency of ordering of function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#style-for-default-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      Style for default parameter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Style for default parameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calling-functions-with-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Calling functions with default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Calling functions with default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_2" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-repeat-non-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Don't repeat non-default parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Don't repeat non-default parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem_3" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision_3" class="md-nav__link">
    <span class="md-ellipsis">
      Decision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rationale_2" class="md-nav__link">
    <span class="md-ellipsis">
      Rationale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-clear-beautiful-code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing clear beautiful code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing clear beautiful code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keep-related-code-close" class="md-nav__link">
    <span class="md-ellipsis">
      Keep related code close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-functions-in-topological-order" class="md-nav__link">
    <span class="md-ellipsis">
      Order functions in topological order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinguish-public-and-private-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Distinguish public and private functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-public-functions-organized-in-a-logical-order" class="md-nav__link">
    <span class="md-ellipsis">
      Keep public functions organized in a logical order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-make-tiny-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Do not make tiny wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-introduce-another-concept-unless-really-needed" class="md-nav__link">
    <span class="md-ellipsis">
      Do not introduce another “concept” unless really needed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-none-or-keep-one-type" class="md-nav__link">
    <span class="md-ellipsis">
      Return None or keep one type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-wall-of-text-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Avoid wall-of-text functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-robust-code" class="md-nav__link">
    <span class="md-ellipsis">
      Writing robust code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing robust code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dont-let-your-functions-catch-the-default-itis" class="md-nav__link">
    <span class="md-ellipsis">
      Don’t let your functions catch the default-itis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicitly-bind-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Explicitly bind default parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-hardwire-params-in-a-function-call" class="md-nav__link">
    <span class="md-ellipsis">
      Don’t hardwire params in a function call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-if-elif-else-complete" class="md-nav__link">
    <span class="md-ellipsis">
      Make if-elif-else complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-todos-when-needed" class="md-nav__link">
    <span class="md-ellipsis">
      Add TODOs when needed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-python-mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Python mistakes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Python mistakes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vs-is" class="md-nav__link">
    <span class="md-ellipsis">
      == vs is
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-vs-isinstance" class="md-nav__link">
    <span class="md-ellipsis">
      type() vs isinstance()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Unit tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      Refactoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refactoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-moving-refactoring-code" class="md-nav__link">
    <span class="md-ellipsis">
      When moving / refactoring code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-script-for-renamings" class="md-nav__link">
    <span class="md-ellipsis">
      Write script for renamings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architectural-and-design-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Architectural and design pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architectural and design pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#research-quality-vs-production-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Research quality vs production quality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-separate-what-changes-from-what-stays-the-same" class="md-nav__link">
    <span class="md-ellipsis">
      Always separate what changes from what stays the same
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organize-scripts-as-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      Organize scripts as pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-filename-unique" class="md-nav__link">
    <span class="md-ellipsis">
      Make filename unique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incremental-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Incremental behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-end-to-end" class="md-nav__link">
    <span class="md-ellipsis">
      Run end-to-end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#think-about-scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Think about scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-command-line-for-reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      Use command line for reproducibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure-the-code-in-terms-of-filters" class="md-nav__link">
    <span class="md-ellipsis">
      Structure the code in terms of filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-style-for-different-languages" class="md-nav__link">
    <span class="md-ellipsis">
      Code style for different languages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code style for different languages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-addendum" class="md-nav__link">
    <span class="md-ellipsis">
      Conventions (Addendum)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conventions (Addendum)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#be-patient" class="md-nav__link">
    <span class="md-ellipsis">
      Be patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal" class="md-nav__link">
    <span class="md-ellipsis">
      Goal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-the-rules-simple" class="md-nav__link">
    <span class="md-ellipsis">
      Keep the rules simple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-turning-off-the-automatic-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Allow turning off the automatic tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-the-spell-checker-happy" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spell-checker happy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="coding-style">Coding Style</h1>
<h2 id="kaizenflow-python-style-guide">KaizenFlow - Python Style Guide</h2>
<h2 id="meta">Meta</h2>
<ul>
<li>What we call "rules" are actually just a convention</li>
<li>The "rules"</li>
<li>Are optimized for the common case</li>
<li>Are not the absolute best way of doing something in all possible cases</li>
<li>Can become cumbersome or weird to follow for some corner cases</li>
<li>We prefer simple rather than optimal rules so that they can be applied in most
  of the cases, without thinking or going to check the documentation</li>
<li>The rules are striving to achieve consistency and robustness</li>
<li>We prefer to care about consistency rather than arguing about which approach
    is better in each case</li>
<li>E.g., see the futile "tab vs space" flame-war from the 90s</li>
<li>The rules are optimized for the average developer / data scientist and not for
  power users</li>
<li>The rules try to minimize the maintenance burden</li>
<li>We want to minimize the propagation of a change</li>
<li>Rules are not fixed in stone</li>
<li>Rules evolve based on what we discuss through the reviews</li>
</ul>
<h2 id="disclaimer">Disclaimer</h2>
<ul>
<li>This document was forked from
  <a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>,
  therefore, the numbering of chapters sets off where the Style Guide ends. Make
  sure to familiarize yourself with it before proceeding to the rest of the doc,
  since it is the basis of our team’s code style.</li>
<li>Another important source is
  <a href="https://drive.google.com/file/d/1g0vjtaBVq0dt32thNprBRJpeHJsJSe-Z/view?usp=sharing">The Pragmatic Programmer</a>
  by David Thomas and Andrew Hunt. While not Python-specific, it provides an
  invaluable set of general principles by which any person working with code
  (software developer, DevOps or data scientist) should abide. Read it on long
  commutes, during lunch, and treat yourself to a physical copy on Christmas.
  The book is summarized
  <a href="https://github.com/cryptokaizen/cmamp/blob/master/docs/coding/all.code_like_pragmatic_programmer.how_to_guide.md">here</a>,
  but do not deprive yourself of the engaging manner in which Thomas &amp; Hunt
  elaborate on these points -- on top of it all, it is a very, very enjoyable
  read.</li>
</ul>
<h3 id="references">References</h3>
<ul>
<li>Coding</li>
<li><a href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide (GPSG)</a></li>
<li><a href="https://google.github.io/styleguide/pyguide.html"></a><a href="https://www.python.org/dev/peps/pep-0008/">Code convention from PEP8</a><a href="https://www.python.org/dev/peps/pep-0008/"></a></li>
<li><a href="https://www.python.org/dev/peps/pep-0008/"></a>Documentation</li>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/best_practices.md">Docstring convention from PEP257</a></li>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/best_practices.md">Google documentation best practices</a></li>
<li>Commenting style</li>
<li><a href="https://www.sphinx-doc.org/en/master/">Sphinx</a></li>
<li><a href="https://thomas-cokelaer.info/tutorials/sphinx/index.html">Sphinx tutorial</a></li>
<li>Design</li>
<li><a href="https://github.com/google/styleguide/blob/gh-pages/docguide/philosophy.md">Google philosophical stuff</a></li>
<li><a href="https://en.wikipedia.org/wiki/Unix_philosophy#Eric_Raymond%E2%80%99s_17_Unix_Rules">Unix rules (although a bit cryptic sometimes)</a></li>
</ul>
<h2 id="high-level-principles">High-Level Principles</h2>
<ul>
<li>In this paragraph we summarize the high-level principles that we follow for
  designing and implementing code and research. We should be careful in adding
  principles here. Ideally principles should be non-overlapping and generating
  all the other lower level principles we follow (like a basis for a vector
  space)</li>
</ul>
<h4 id="follow-the-dry-principle">Follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> principle</h4>
<h4 id="the-writer-is-the-reader">The writer is the reader</h4>
<ul>
<li>Make code easy to read even if it is more difficult to write</li>
<li>Code is written 1x and read 100x</li>
<li>Remember that even if things are perfectly clear now to the person that wrote
  the code, in a couple of months the code will look foreign to whoever wrote
  the code.</li>
<li>So make your future-self's life easier by following the conventions and erring
  on the side of documenting for the reader.</li>
</ul>
<h4 id="encapsulate-what-changes">Encapsulate what changes</h4>
<ul>
<li>Separate what changes from what stays the same</li>
</ul>
<h4 id="least-surprise-principle"><a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">Least surprise principle</a></h4>
<ul>
<li>Try to make sure that the reader is not surprised</li>
</ul>
<h4 id="pay-the-technical-debt">Pay the technical debt</h4>
<ul>
<li>Any unpaid debt is guaranteed to bite you when you don't expect it</li>
<li>Still some debt is inevitable: try to find the right trade-off</li>
</ul>
<h4 id="end-to-end-first">End-to-end first</h4>
<ul>
<li>Always focus on implementing things end-to-end, then improve each block</li>
<li>Remember the analogy of building the car through the skateboard, the bike,
  etc.</li>
<li>Compare this approach to building wheels, chassis, with a big-bang
    integration at the end</li>
</ul>
<h4 id="unit-test-everything">Unit test everything</h4>
<ul>
<li>Code that matters needs to be unit tested</li>
<li>Code that doesn't matter should not be checked in the repo</li>
<li>The logical implication is: all code checked in the repo should be unit tested</li>
</ul>
<h4 id="dont-get-attached-to-code">Don't get attached to code</h4>
<ul>
<li>It's ok to delete, discard, retire code that is not useful any more</li>
<li>Don't take it personally when people suggest changes or simplification</li>
</ul>
<h4 id="always-plan-before-writing-code">Always plan before writing code</h4>
<ul>
<li>File a GitHub issue</li>
<li>Think about what to do and how to do it</li>
<li>Ask for help or for a review</li>
<li>The best code is the one that we avoid to write through a clever mental
  kung-fu move</li>
</ul>
<h4 id="think-hard-about-naming">Think hard about naming</h4>
<ul>
<li>Finding a name for a code object, notebook, is extremely difficult but very
  important to build a mental map</li>
<li>Spend the needed time on it</li>
</ul>
<h4 id="look-for-inconsistencies">Look for inconsistencies</h4>
<ul>
<li>Stop for a second after you have, before sending out:</li>
<li>Implemented code or a notebook</li>
<li>Written documentation</li>
<li>Written an e-mail</li>
<li>...</li>
<li>Reset your mind and look at everything with fresh eyes like if it was the
  first time you saw it</li>
<li>Does everything make sense to someone that sees this for the first time?</li>
<li>Can (and should) it be improved?</li>
<li>Do you see inconsistencies, potential issues?</li>
<li>It will take less and less time to become good at this</li>
</ul>
<h4 id="no-ugly-hacks">No ugly hacks</h4>
<ul>
<li>We don't tolerate "ugly hacks", i.e., hacks that require lots of work to be
  undone (much more than the effort to do it right in the first place)</li>
<li>Especially an ugly design hack, e.g., a Singleton, or some unnecessary
    dependency between distant pieces of code</li>
<li>Ugly hacks spreads everywhere in the code base</li>
</ul>
<h2 id="our-coding-suggestions">Our coding suggestions</h2>
<h3 id="being-careful-with-naming">Being careful with naming</h3>
<h4 id="follow-the-conventions">Follow the conventions</h4>
<ul>
<li>Name executable files (scripts) and library functions using verbs (e.g.,
  <code>download.py</code>, <code>download_data()</code>)</li>
<li>Name classes and (non-executable) files using nouns (e.g., <code>Downloader()</code>,
  <code>downloader.py</code>)</li>
<li>For decorators we don't use a verb as we do for normal functions, but rather
  an adjective or a past tense verb, e.g.,
  <code>python
  def timed(f):
      """
      Add a timer decorator around a specified function.
      """
      …</code></li>
</ul>
<h4 id="follow-spelling-rules">Follow spelling rules</h4>
<ul>
<li>We spell commands in lower-case, and programs with initial upper case:</li>
<li>"Git" (as program), "git" (as the command)</li>
<li>We distinguish "research" (not "default", "base") vs "production"</li>
<li>We use different names for indicating the same concept, e.g., <code>dir</code>, <code>path</code>,
  <code>folder</code></li>
<li>Preferred term is <code>dir</code></li>
<li>Name of columns</li>
<li>The name of columns should be <code>..._col</code> and not <code>..._col_name</code> or <code>_column</code></li>
<li>Timestamp</li>
<li>We spell <code>timestamp</code>, we do not abbreviate it as <code>ts</code></li>
<li>We prefer timestamp to <code>datetime</code><ul>
<li>E.g., <code>start_timestamp</code> instead of <code>start_datetime</code></li>
</ul>
</li>
<li>Abbreviations</li>
<li>JSON, CSV, DB, etc., are abbreviations and thus should be capitalized in
    comments and docstrings, and treated as abbreviations in code when it
    doesn't conflict with other rules<ul>
<li>E.g., <code>convert_to_CSV</code>, but <code>csv_file_name</code> as a variable name that is not
  global</li>
</ul>
</li>
<li>Profit-and-loss: PnL instead of pnl or PNL</li>
</ul>
<h4 id="search-good-names-avoid-bad-names">Search good names, avoid bad names</h4>
<h5 id="general-naming-rules">General naming rules</h5>
<ul>
<li>Naming things properly is one of the most difficult task of a programmer /
  data scientist</li>
<li>The name needs to be (possibly) short and memorable<ul>
<li>However, don't be afraid to use long names, if needed, e.g.,
  <code>process_text_with_full_pipeline_twitter_v1</code></li>
<li>Сlarity is more important than number of bytes used</li>
</ul>
</li>
<li>The name should capture what the object represents, without reference to
    things that can change or to details that are not important</li>
<li>The name should refer to what objects do (i.e., mechanisms), rather than how
    we use them (i.e., policies)</li>
<li>The name needs to be non-controversial: people need to be able to map the
    name in their mental model</li>
<li>The name needs to sound good in English<ul>
<li><em>Bad</em>: <code>AdapterSequential</code> sounds bad</li>
<li><em>Good</em>: <code>SequentialAdapter</code> sounds good</li>
</ul>
</li>
<li>Some examples of how NOT to do naming:</li>
<li><code>raw_df</code> is a terrible name<ul>
<li>"raw" with respect to what?</li>
<li>Cooked?</li>
<li>Read-After-Write race condition?</li>
</ul>
</li>
<li><code>person_dict</code> is bad<ul>
<li>What if we switch from a dictionary to an object?</li>
<li>Then we need to change the name everywhere!</li>
<li>The name should capture what the data structure represents (its semantics)
  and not how it is implemented</li>
</ul>
</li>
</ul>
<h5 id="do-not-be-stingy">Do not be stingy</h5>
<ul>
<li>Why calling an object <code>TimeSeriesMinStudy</code> instead of <code>TimeSeriesMinuteStudy</code>?</li>
<li>Saving 3 letters is not worth</li>
<li>The reader might interpret <code>Min</code> as <code>Minimal</code> (or <code>Miniature</code>, <code>Minnie</code>,
    <code>Minotaur</code>)</li>
<li>If you don't like to type, we suggest you get a better keyboard, e.g.,
  <a href="https://kinesis-ergo.com/shop/advantage2/">this</a></li>
</ul>
<h5 id="do-not-abbreviate-just-to-save-characters">Do not abbreviate just to save characters</h5>
<ul>
<li>Abbreviations just to save space are rarely beneficial to the reader. E.g.,</li>
<li>Fwd (forward)</li>
<li>Bwd (backward)</li>
<li>Act (actual)</li>
<li>Exp (expected)</li>
</ul>
<h5 id="when-to-use-abbreviations">When to use abbreviations</h5>
<ul>
<li>We could relax this rule for short lived functions and variables in order to
  save some visual noise.</li>
<li>Sometimes an abbreviation is so short and common that it's ok to leave it
  E.g.,</li>
<li>Df (dataframe)</li>
<li>Srs (series)</li>
<li>Idx (index)</li>
<li>Id (identifier)</li>
<li>Val (value)</li>
<li>Var (variable)</li>
<li>Args (arguments)</li>
<li>Kwargs (keyword arguments)</li>
<li>Col (column)</li>
<li>Vol (volatility) while volume is always spelled out</li>
</ul>
<h4 id="avoid-code-stutter">Avoid code stutter</h4>
<ul>
<li>An example of code stutter: you want to add a function that returns <code>git</code> root
  path in a module <code>git</code></li>
<li><em>Bad</em></li>
<li>
<p>Name is <code>get_git_root_path()</code></p>
<p>```python
import helpers.git as git</p>
<p>... git.get_git_root_path()
```
  - You see that the module is already specifying we are talking about Git</p>
</li>
<li>
<p><em>Good</em></p>
</li>
<li>
<p>Name is <code>get_root_path()</code></p>
<p>```python
import helpers.git as git</p>
<p>... git.get_root_path()
```
  - This is not only aesthetic reason but a bit related to a weak form of DRY</p>
</li>
</ul>
<h3 id="comments-and-docstrings">Comments and docstrings</h3>
<h4 id="general-conventions">General conventions</h4>
<ul>
<li>Code needs to be properly commented</li>
<li>We follow python standard <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>
  for commenting</li>
<li>PEP 257 standardizes what comments should express and how they should do it
    (e.g., use triple quotes for commenting a function), but does not specify
    what markup syntax should be used to describe comments</li>
<li>Different conventions have been developed for documenting interfaces</li>
<li>ReST</li>
<li>Google (which is cross-language, e.g., C++, python, ...)</li>
<li>Epytext</li>
<li>Numpydoc</li>
</ul>
<h4 id="descriptive-vs-imperative-style">Descriptive vs imperative style</h4>
<ul>
<li>We decided to use imperative style for our comments and docstrings</li>
<li>Pylint and other python QA tools favor an imperative style</li>
<li>From <a href="https://www.python.org/dev/peps/pep-0257/">PEP 257</a>
    <code>The docstring is a phrase ending in a period. It prescribes the function or
    method's effect as a command ("Do this", "Return that"), not as a description;
    e.g. don't write "Returns the pathname ...".</code></li>
</ul>
<h4 id="docstrings-style">Docstrings style</h4>
<ul>
<li>We follow ReST (aka re-Structured Text) style for docstrings which is:</li>
<li>The most widely supported in the python community</li>
<li>Supported by all doc generation tools (e.g., epydoc, sphinx)</li>
<li>Default in Pycharm</li>
<li>Default in pyment</li>
<li>Supported by pydocstyle (which does not support Google style as explained
    <a href="https://github.com/PyCQA/pydocstyle/issues/275">here</a>)</li>
<li>Example of a function definition with ReST styled docstring:</li>
</ul>
<p>```python
    def my_function(param1: str) -&gt; str:
        """
        A one-line description of what the function does.</p>
<pre><code>    A longer description (possibly on multiple lines) with a more detailed
    explanation of what the function does, trying to not be redundant with
    the parameter / return description below. The focus is on the interface
    and what the user should know to use the function and not how the
    function is implemented.

    :param param1: this is a first param
    :return: this is a description of what is returned
    """
</code></pre>
<p><code>``
  - We pick lowercase after</code>:param XYZ: ...` unless the first word is a proper
    noun or type
  - A full ReST docstring styling also requires to specify params and return
    types, however type hinting makes it redundant so you should use only type
    hinting</p>
<ul>
<li>Put docstrings in triple quotation marks</li>
<li><em>Bad</em>
    <code>python
    Generate "random returns".</code></li>
<li><em>Good</em>
    <code>python
    """
    Generate "random returns".
    """</code></li>
<li>Sometimes functions are small enough so we just use a 1-liner docstring
  without detailed params and return descriptions. Just do not put text and
  docstring brackets in one line</li>
<li><em>Bad</em>
    <code>python
    """This is not our approach."""</code></li>
<li><em>Good</em>
    <code>python
    """
    This is our approach.
    """</code></li>
<li><a href="https://stackoverflow.com/questions/3898572">More examples of and discussions on python docstrings</a></li>
</ul>
<h4 id="comments-style">Comments style</h4>
<ul>
<li>Comments follow the same style of docstrings, e.g., imperative style with
  period <code>.</code> at the end</li>
<li><em>Bad</em>
    <code>python
    # This comment is not imperative and has no period at the end</code></li>
<li><em>Good</em>
    <code>python
    # Make comments imperative and end them with a period.</code></li>
<li>Always place comments above the lines that they are referring to. Avoid
  writing comments on the same line as code since they require extra maintenance
  (e.g., when the line becomes too long)</li>
<li><em>Bad</em>
    <code>python
    print("hello world")      # Introduce yourself.</code></li>
<li><em>Good</em>
    <code>python
    # Introduce yourself.
    print("hello world")</code></li>
<li>The only exception is commenting <code>if-elif-else</code> statments: we comment them
  underneath the each statement in order to explain the code that belongs to the
  each statement particularly</li>
<li><em>Bad</em>
    <code>python
    # Set remapping based on the run type.
    if is_prod:
        ...
    else:
        ...</code></li>
<li><em>Good</em>
    <code>python
    #
    if is_prod:
        # Set remapping for database data used in production.
        ...
    else:
        # Set remapping for file system data used in simulation.
        ...</code><ul>
<li>If you want to separate an <code>if</code> statement from a bunch of code preceeding
  it, you can leave an empty comment before it</li>
</ul>
</li>
</ul>
<h4 id="replace-empty-lines-in-code-with-comments">Replace empty lines in code with comments</h4>
<ul>
<li>
<p>The problem with empty lines is that they are visually confusing since one
  empty line is used also to separate functions. For this reason we suggest
  using a comment</p>
</li>
<li>
<p>If you feel that you need an empty line in the code, it probably means that a
  specific chunk of code is a logical piece of code performing a cohesive
  function</p>
</li>
</ul>
<p>```python
  ...
  end_y = end_dt.year</p>
<p>paths = list()
  ...
  ```</p>
<ul>
<li>Instead of putting an empty line, you should put a comment describing at high
  level what the code does.
  <code>python
  ...
  end_y = end_dt.year
  # Generate a list of file paths for Parquet dataset.
  paths = list()
  ...</code></li>
<li>A less optimal solution is to add an empty comment, but this is not great:
  <code>python
  ...
  end_y = end_dt.year
  #
  paths = list()
  ...</code></li>
</ul>
<h4 id="comment-chunk-of-codes">Comment chunk of codes</h4>
<ul>
<li>
<p>Avoid wall-of-code, by commenting chunks of code that perform a cohesive work</p>
</li>
<li>
<p><em>Bad</em></p>
</li>
</ul>
<p><code>python
  system_log_dir = rsiprrec.get_prod_system_log_dir(mode)
  prod_dir = os.path.join(target_dir, system_log_dir)
  hio.create_dir(prod_dir, incremental=True)
  config_dict = {
      "dag_runner_config": {
          "wake_up_timestamp": "2023-11-13 08:09:00-05:00",
          "rt_timeout_in_secs_or_time": 86400,
          "bar_duration_in_secs": 300,
      },
  }
  config = cconfig.Config.from_dict(config_dict)
  config_tag = "system_config.output"
  config.save_to_file(prod_dir, config_tag)</code></p>
<ul>
<li>
<p>The code above has obviously various chunks that can be described with
  comments
  <code># Create a dir to store the System Config.
  ...
  # Create an example Config.
  ...
  # Save the Config in the target dir.</code></p>
</li>
<li>
<p><em>Good</em></p>
</li>
</ul>
<p><code>python
  # Create a dir to store the System Config.
  system_log_dir = rsiprrec.get_prod_system_log_dir(mode)
  prod_dir = os.path.join(target_dir, system_log_dir)
  hio.create_dir(prod_dir, incremental=True)
  # Create an example Config.
  config_dict = {
      "dag_runner_config": {
          "wake_up_timestamp": "2023-11-13 08:09:00-05:00",
          "rt_timeout_in_secs_or_time": 86400,
          "bar_duration_in_secs": 300,
      },
  }
  config = cconfig.Config.from_dict(config_dict)
  config_tag = "system_config.output"
  # Save the Config in the target dir.
  config.save_to_file(prod_dir, config_tag)</code></p>
<h4 id="referring-to-an-object-in-code-comments">Referring to an object in code comments</h4>
<ul>
<li>In general, <strong>avoid</strong> this whenever possible</li>
<li>Code object names (e.g., function, class, params) are often subject to change,
  so we need to take care of them everywhere. It is very hard to track all of
  them in comments so replace the names with their actual meaning</li>
<li><em>Bad</em>
    <code>python
    # Generate a list of file paths for `ParquetDataset`.</code></li>
<li><em>Good</em>
    <code>python
    # Generate a list of file paths for Parquet dataset.</code></li>
<li>However, sometimes it is necessary. In this case refer to objects in the code
  using Markdown. This is useful for distinguishing the object code from the
  real-life object</li>
<li><em>Bad</em>
    <code>python
    # The dataframe df_tmp is used for ...</code></li>
<li><em>Good</em>
    <code>python
    # The dataframe `df_tmp` is used for ...</code></li>
</ul>
<h4 id="avoid-distracting-comments">Avoid distracting comments</h4>
<ul>
<li>Use comments to explain the high level logic / goal of a piece of code and not
  the details, e.g., do not comment things that are obvious</li>
<li><em>Bad</em>
    <code>python
    # Print results.
    _LOG.info("Results are %s", ...)</code></li>
</ul>
<h4 id="commenting-out-code">Commenting out code</h4>
<ul>
<li>When we comment out code, we should explain why it is no longer relevant</li>
<li><em>Bad</em>
    <code>python
    is_alive = pd.Series(True, index=metadata.index)
    # is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)</code></li>
<li><em>Good</em>
    <code>python
    # TODO(*): As discussed in PTask5047 for now we set all timeseries to be alive.
    # is_alive = kgutils.annotate_alive(metadata, self.alive_cutoff)
    is_alive = pd.Series(True, index=metadata.index)</code></li>
</ul>
<h4 id="use-type-hints">Use type hints</h4>
<ul>
<li>We expect new code to use type hints whenever possible</li>
<li>See <a href="https://www.python.org/dev/peps/pep-0484/">PEP 484</a></li>
<li><a href="https://mypy.readthedocs.io/en/latest/cheat_sheet_py3.html">Type hints cheat sheet</a></li>
<li>At some point we will start adding type hints to old code</li>
<li>We plan to start using static analyzers (e.g., <code>mypy</code>) to check for bugs from
  type mistakes and to enforce type hints at run-time, whenever possible</li>
</ul>
<h4 id="interval-notation">Interval notation</h4>
<ul>
<li>Intervals are represented with <code>[a, b), (a, b], (a, b), [a, b]</code></li>
<li>We don't use the other style <code>[a, b[</code></li>
</ul>
<h4 id="if-you-find-a-bug-or-obsolete-docstringtodo-in-the-code">If you find a bug or obsolete docstring/TODO in the code</h4>
<ul>
<li>The process is:</li>
<li>Do a <code>git blame</code> to find who wrote the code</li>
<li>If it's an easy bug, you can fix it and ask for a review from the author</li>
<li>You can comment on a PR (if there is one)</li>
<li>You can file a bug on Github with<ul>
<li>Clear info on the problem</li>
<li>How to reproduce it, ideally a unit test</li>
<li>Stacktrace</li>
</ul>
</li>
</ul>
<h3 id="linter">Linter</h3>
<ul>
<li>The linter is in charge of reformatting the code according to our conventions
  and reporting potential problems</li>
<li>You can find instructions on how to run linter at the
  <a href="First_review_process.md">First review process</a> doc</li>
</ul>
<h4 id="remove-linter-messages">Remove linter messages</h4>
<ul>
<li>When the linter reports a problem:</li>
<li>We assume that linter messages are correct, until the linter is proven wrong</li>
<li>We try to understand what is the rationale for the linter's complaints</li>
<li>We then change the code to follow the linter's suggestion and remove the
    lint</li>
<li>If you think a message is too pedantic, please file a bug with the example and
  as a team we will consider whether to exclude that message from our list of
  linter suggestions</li>
<li>If you think the message is a false positive, then try to change the code to
  make the linter happy</li>
<li>E.g., if the code depends on some run-time behavior that the linter can't
    infer, then you should question whether that behavior is really needed</li>
<li>A human reader would probably be as confused as the linter is</li>
</ul>
<h4 id="when-to-disable-linter-messages">When to disable linter messages</h4>
<ul>
<li>If you really believe you should override the linter in this particular case,
  then use something like:
  <code>python
  # pylint: disable=some-message,another-one</code></li>
<li>You then need to explain in a comment why you are overriding the linter.</li>
<li>Don't use linter code numbers, but the
    <a href="https://github.com/josherickson/pylint-symbolic-names">symbolic name</a>
    whenever possible:<ul>
<li><em>Bad</em>
  <code>python
  # pylint: disable=W0611
  import config.logging_settings</code></li>
<li><em>Good</em>
  <code>python
  # pylint: disable=unused-import
  # This is needed when evaluating code at run-time that depends from
  # this import.
  import config.logging_settings</code></li>
</ul>
</li>
</ul>
<h4 id="prefer-non-inlined-linter-comments">Prefer non-inlined linter comments</h4>
<ul>
<li>As for the general comments, we prefer make linter comments non-inlined</li>
<li>However, sometimes there is no other choice than an inlined comment to get the
  linter to understand which line we are referring to, so in rare cases it is
  OK:</li>
<li><em>Bad</em> but ok if needed
    <code>python
    import config.logging_settings  # pylint: disable=unused-import</code></li>
<li><em>Good</em>
    <code>python
    # pylint: disable=line-too-long
      expected_df_as_str = """# df=
                                  asset_id   last_price            start_datetime              timestamp_db
      end_datetime
      2000-01-01 09:31:00-05:00      1000   999.874540 2000-01-01 09:30:00-05:00 2000-01-01 09:31:00-05:00
      2000-01-01 09:32:00-05:00      1000  1000.325254 2000-01-01 09:31:00-05:00 2000-01-01 09:32:00-05:00
      2000-01-01 09:33:00-05:00      1000  1000.557248 2000-01-01 09:32:00-05:00 2000-01-01 09:33:00-05:00"""
      # pylint: enable=line-too-long</code></li>
</ul>
<h4 id="dont-mix-real-changes-with-linter-changes">Don't mix real changes with linter changes</h4>
<ul>
<li>We don't commit changes that modify the code together with linter
  reformatting, unless the linting is applied to the changes we just made</li>
<li>The reason for not mixing real and linter changes is that for a PR or to
    just read the code it is difficult to understand what really changed vs what
    was just a cosmetic modification</li>
<li>If you are worried the linter might change your code in a way you don't like,
  e.g.,</li>
<li>Screwing up some formatting you care about for some reason, or</li>
<li>Suggesting changes that you are worried might introduce bugs you can commit
    your code and then do a "lint commit" with a message "CMTaskXYZ: Lint"</li>
<li>In this way you have a backup state that you can rollback to, if you want</li>
<li>If you run the linter and see that the linter is reformatting / modifying
  pieces of code you din't change, it means that our team mate forgot to lint
  their code</li>
<li><code>git blame</code> can figure out the culprit</li>
<li>You can send him / her a ping to remind her to lint, so you don't have to
    clean after him / her</li>
<li>In this case, the suggested approach is:<ul>
<li>Commit your change to a branch / stash</li>
<li>Run the linter by itself on the files that need to be cleaned, without any
  change</li>
<li>Run the unit tests to make sure nothing is breaking</li>
<li>You can fix lints or just do formatting: it's up to you</li>
<li>You can make this change directly on <code>master</code> or do a PR if you want to be
  extra sure: your call</li>
</ul>
</li>
</ul>
<h3 id="logging">Logging</h3>
<h4 id="always-use-logging-instead-of-prints">Always use logging instead of prints</h4>
<ul>
<li>Always use <code>logging</code> and never <code>print()</code> to monitor the execution</li>
</ul>
<h4 id="our-logging-idiom">Our logging idiom</h4>
<ul>
<li>In order to use our logging framework (e.g., <code>-v</code> from command lines, and much
  more) use:</li>
</ul>
<p>```python
  import helpers.hdbg as hdbg</p>
<p>_LOG = logging.getLogger(<strong>name</strong>)</p>
<p>hdbg.init_logger(verbosity=logging.DEBUG)</p>
<p>_LOG.debug("I am a debug function about %s", a)
  ```</p>
<ul>
<li>In this way one can decide how much debug info is needed (see Unix rule of
  silence)</li>
<li>E.g., when there is a bug one can run with <code>-v DEBUG</code> and see what's
    happening right before the bug</li>
</ul>
<h4 id="logging-level">Logging level</h4>
<ul>
<li>Use <code>_LOG.warning</code> for messages to the final user related to something
  unexpected where the code is making a decision that might be controversial</li>
<li>E.g., processing a dir that is supposed to contain only <code>.csv</code> files the
    code finds a non-<code>.csv</code> file and decides to skip it, instead of breaking</li>
<li>Use <code>_LOG.info</code> to communicate to the final user, e.g.,</li>
<li>When the script is started</li>
<li>Where the script is saving its results</li>
<li>A progress bar indicating the amount of work completed</li>
<li>Use <code>_LOG.debug</code> to communicate information related to the internal behavior
  of code</li>
<li>Do not pollute the output with information a regular user does not care
    about</li>
<li>Make sure the script prints when the work is terminated, e.g., "DONE" or
  "Results written to ..."</li>
<li>This is useful to indicate that the script did not die in the middle:
    sometimes this happens silently and it is reported only from the OS return
    code</li>
</ul>
<h4 id="how-to-pick-the-level-for-a-logging-statement">How to pick the level for a logging statement</h4>
<ul>
<li>If all the debug info was printed at <code>INFO</code> level, the output will be too slow
  by default</li>
<li>So we separate what needs to be always printed (i.e., <code>INFO</code>) and what is
  needed only if there is a problem to debug (i.e., <code>DEBUG</code>)</li>
<li>Only who writes the code should decide what is <code>DEBUG</code>, since they know what
    is needed to debug</li>
<li>In fact many loggers use multiple levels of debugging level depending of how
    much detailed debugging info are needed</li>
<li><code>logging</code> has ways to enable logging on a per module basis</li>
<li>So in prod mode you need to know which part you want to debug, since
    printing everything at <code>INFO</code> level is not possible</li>
</ul>
<h4 id="use-positional-args-when-logging">Use positional args when logging</h4>
<ul>
<li><em>Bad</em>
  <code>python
  _LOG.debug("cmd=%s %s %s" % (cmd1, cmd2, cmd3))
  _LOG.debug("cmd=%s %s %s".format(cmd1, cmd2, cmd3))
  _LOG.debug("cmd={cmd1} {cmd2} {cmd3}")</code></li>
<li><em>Good</em>
  <code>python
  _LOG.debug("cmd=%s %s %s", cmd1, cmd2, cmd3)</code></li>
<li>All the statements are equivalent from the functional point of view</li>
<li>The reason is that in the second case the string is not built unless the
  logging is actually performed, which limits time overhead from logging</li>
</ul>
<h4 id="exceptions-dont-allow-positional-args">Exceptions don't allow positional args</h4>
<ul>
<li>For some reason people tend to believe that using the <code>logging</code> / <code>dassert</code>
  approach of positional param to exceptions</li>
<li><em>Bad</em> (use positional args)
    <code>python
    raise ValueError("Invalid server_name='%s'", server_name)</code></li>
<li><em>Good</em> (use string interpolation)
    <code>python
    raise ValueError("Invalid server_name='%s'" % server_name)</code></li>
<li><em>Best</em> (use string format)
    <code>python
    raise ValueError(f"Invalid server_name='{server_name}'")</code></li>
<li>The constructor of an exception accepts a string</li>
<li>Using the string f-format is best since</li>
<li>It's more readable</li>
<li>There is little time overhead since if you get to the exception probably the
    code is going to terminate, and it's not in a hot loop</li>
</ul>
<h4 id="report-warnings">Report warnings</h4>
<ul>
<li>If there is a something that is suspicious but you don't feel like it's
  worthwhile to assert, report a warning with:
  <code>python
  _LOG.warning(...)</code></li>
<li>If you know that if there is a warning then there are going to be many many
  warnings</li>
<li>Print the first warning</li>
<li>Send the rest to warnings.log</li>
<li>At the end of the run, reports "there are warnings in warnings.log"</li>
</ul>
<h3 id="assertions">Assertions</h3>
<h4 id="validate-values-before-an-assignment">Validate values before an assignment</h4>
<ul>
<li>We consider this as an extension of a pre-condition ("only assign values that
  are correct") rather than a postcondition</li>
<li>Often is more compact since it doesn't have reference to <code>self</code></li>
<li><em>Bad</em>
    <code>python
    self._tau = tau
    hdbg.dassert_lte(self._tau, 0)</code></li>
<li><em>Good</em>
    <code>python
    hdbg.dassert_lte(tau, 0)
    self._tau = tau</code></li>
<li>
<p><em>Exceptions</em></p>
<p>When we handle a default assignment, it's more natural to implement a
post-condition:</p>
<p><code>python
col_rename_func = col_rename_func or (lambda x: x)
hdbg.dassert_isinstance(col_rename_func, collections.Callable)</code></p>
</li>
</ul>
<h4 id="encode-the-assumptions-using-assertions">Encode the assumptions using assertions</h4>
<ul>
<li>If your code makes an assumption don’t just write a comment, but implement an
  assertion so the code can’t be executed if the assertion is not verified
  (instead of failing silently)
  <code>python
  hdbg.dassert_lt(start_date, end_date)</code></li>
</ul>
<h4 id="use-positional-args-when-asserting">Use positional args when asserting</h4>
<ul>
<li><code>dassert_*</code> is modeled after logging so for the same reasons one should use
  positional args</li>
<li><em>Bad</em>
  <code>python
  hdbg.dassert_eq(a, 1, "No info for %s" % method)</code>
  Good
  <code>python
  hdbg.dassert_eq(a, 1, "No info for %s", method)</code></li>
</ul>
<h4 id="report-as-much-information-as-possible-in-an-assertion">Report as much information as possible in an assertion</h4>
<ul>
<li>When using a <code>dassert_*</code> you want to give to the user as much information as
  possible to fix the problem</li>
<li>E.g., if you get an assertion after 8 hours of computation you don't want to
    have to add some logging and run for 8 hours to just know what happened</li>
<li>A <code>dassert_*</code> typically prints as much info as possible, but it can't report
  information that is not visible to it:</li>
<li><em>Bad</em>
    <code>python
    hdbg.dassert(string.startswith("hello"))</code><ul>
<li>You don't know what is value of <code>string</code> is</li>
</ul>
</li>
<li><em>Good</em>
    <code>python
    hdbg.dassert(string.startswith("hello"), "string='%s'", string)</code><ul>
<li>Note that often is useful to add <code>'</code> (single quotation mark) to fight
  pesky spaces that make the value unclear, or to make the error as readable
  as possible</li>
</ul>
</li>
</ul>
<h3 id="imports">Imports</h3>
<h4 id="dont-use-evil-import">Don't use evil <code>import *</code></h4>
<ul>
<li>Do not use in notebooks or code the evil <code>import *</code></li>
<li><em>Bad</em>
    <code>python
    from helpers.sql import *</code></li>
<li><em>Good</em>
    <code>python
    import helpers.sql as hsql</code></li>
<li>The <code>from ... import *</code>:</li>
<li>Pollutes the namespace with the symbols and spreads over everywhere, making
    it painful to clean up</li>
<li>Obscures where each function is coming from, removing the context that comes
    with the namespace</li>
<li><a href="https://stackoverflow.com/questions/2386714/why-is-import-bad">Is evil in many other ways</a></li>
</ul>
<h4 id="cleaning-up-the-evil-import">Cleaning up the evil <code>import *</code></h4>
<ul>
<li>To clean up the mess you can:</li>
<li>For notebooks<ul>
<li>Find &amp; replace (e.g., using jupytext and Pycharm)</li>
<li>Change the import and run one cell at the time</li>
</ul>
</li>
<li>For code<ul>
<li>Change the import and use linter on file to find all the problematic spots</li>
</ul>
</li>
<li>One of the few spots where the evil <code>import *</code> is ok is in the <code>__init__.py</code>
  to tweak the path of symbols exported by a library</li>
<li>This is an advanced topic and you should rarely use it</li>
</ul>
<h4 id="avoid-from-import">Avoid <code>from ... import ...</code></h4>
<ul>
<li>Import should always start from <code>import</code>:
  <code>python
  import library as short_name
  import library.sublibrary as short_name</code></li>
<li>This rule applies to imports of third party libraries and our library</li>
<li>Because of this rule we have to always specify a short import of a parent lib
  before every code object that does not belong to the file:</li>
<li><em>Bad</em>
    <code>python
    from helpers.sql import get_connection, get_connection_from_env_vars, \
        DBConnection, wait_connection_from_db, execute_insert_query</code></li>
<li><em>Good</em>
    <code>python
    import helpers.sql as hsql
    ...
    ... hsql.get_connection()</code></li>
<li>The problem with the <code>from ... import ...</code> is that it:</li>
<li>Creates lots of maintenance effort<ul>
<li>E.g., anytime you want a new function you need to update the import
  statement</li>
</ul>
</li>
<li>Creates potential collisions of the same name<ul>
<li>E.g., lots of modules have a <code>read_data()</code> function</li>
</ul>
</li>
<li>Impairs debugging<ul>
<li>Importing directly in the namespace loses information about the module</li>
<li>E.g.,<code>read_documents()</code> is not clear: what documents?</li>
<li><code>np.read_documents()</code> at least gives information of which packages is it
  coming from and enables us to track it down to the code</li>
</ul>
</li>
</ul>
<h4 id="exceptions-to-the-import-style">Exceptions to the import style</h4>
<ul>
<li>We try to minimize the exceptions to this rule to avoid to keep this rule
  simple, rather than discussing about</li>
<li>The current agreed upon exceptions are:</li>
<li>For <code>typing</code> it is ok to do:
    <code>python
    from typing import Iterable, List</code>
    in order to avoid typing everywhere, since we want to use type hints as much
    as possible</li>
</ul>
<h4 id="always-import-with-a-full-path-from-the-root-of-the-repo-submodule">Always import with a full path from the root of the repo / submodule</h4>
<ul>
<li><em>Bad</em>
  <code>python
  import exchange_class</code></li>
<li><em>Good</em>
  <code>python
  import im_v2.ccxt.data.extract.exchange_class</code></li>
<li>In this way your code can run without depending upon your current dir</li>
</ul>
<h4 id="baptizing-module-import">Baptizing module import</h4>
<ul>
<li>Each module that can be imported should have a docstring at the very beginning
  (before any code) describing how it should be imported</li>
</ul>
<p>```python
  """
  Import as:</p>
<p>import im_v2.ccxt.data.client.ccxt_clients as imvcdccccl
  """
  ```</p>
<ul>
<li>The import abbreviations are called 'short imports' and usually consist of 7-9
  first letters of all the words that comprise path to file</li>
<li><strong>DO NOT</strong> simply give a random short import name</li>
<li>Run linter to generate short import for a file automatically</li>
<li>For some most files we specify short imorts by hand so thay may contain less
  symbols, e.g., <code>hdbg</code></li>
<li>The goal is to have always the same imports so it's easy to move code around,
  without collisions</li>
</ul>
<h4 id="examples-of-imports">Examples of imports</h4>
<ul>
<li>Example 1</li>
<li><em>Bad</em>
    <code>python
    from im_v2.ccxt.data.client import ccxt_clients as ccxtcl</code></li>
<li><em>Good</em>
    <code>python
    import im_v2.ccxt.data.client.ccxt_clients as imvcdccccl</code></li>
<li>Example 2</li>
<li><em>Bad</em>
    <code>python
    from edgar.shared import headers_extractor as he</code></li>
<li><em>Good</em>
    <code>python
    import edgar.shared.headers_extractor as eshheext</code></li>
<li>Example 3</li>
<li><em>Bad</em>
    <code>python
    from helpers import hdbg</code></li>
<li><em>Good</em>
    <code>python
    import helpers.hdbg as hdbg</code></li>
</ul>
<h3 id="scripts">Scripts</h3>
<h4 id="use-python-and-not-bash-for-scripting">Use Python and not bash for scripting</h4>
<ul>
<li>We prefer to use python instead of bash scripts with very few exceptions</li>
<li>E.g., scripts that need to modify the environment by setting env vars, like
    <code>setenv.sh</code></li>
<li>The problem with bash scripts is that it's too easy to put together a sequence
  of commands to automate a workflow</li>
<li>Quickly things always become more complicated than what you thought, e.g.,</li>
<li>You might want to interrupt if one command in the script fails</li>
<li>You want to use command line options</li>
<li>You want to use logging to see what's going on inside the script</li>
<li>You want to do a loop with a regex check inside</li>
<li>Thus you need to use the more complex features of bash scripting and bash
  scripting is absolutely horrible, much worse than perl (e.g., just think of
  <code>if [ ... ]</code> vs <code>if [[ ... ]]</code>)</li>
<li>Our approach is to make simple to create scripts in python that are equivalent
  to sequencing shell commands, so that can evolve in complex scripts</li>
</ul>
<h4 id="skeleton-for-a-script">Skeleton for a script</h4>
<ul>
<li>The ingredients are:</li>
<li><code>dev_scripts/script_skeleton.py</code>: a template to write simple scripts you can
    copy and modify it</li>
<li><code>helpers/hsystem.py</code>: a set of utilities that make simple to run shell
    commands (e.g., capturing their output, breaking on error or not, tee-ing to
    file, logging, ...)</li>
<li><code>helpers</code> has lots of useful libraries</li>
<li>The official reference for a script is <code>dev_scripts/script_skeleton.py</code></li>
<li>You can copy this file and change it</li>
<li>A simple example is: <code>dev_scripts/git/gup.py</code></li>
<li>A complex example is: <code>dev_scripts/replace_text.py</code></li>
</ul>
<h4 id="some-useful-patterns">Some useful patterns</h4>
<ul>
<li>Some useful patterns / idioms that are supported by the framework are:</li>
<li>Incremental mode: you skip an action if its outcome is already present
    (e.g., skipping creating a dir, if it already exists and it contains all the
    results)</li>
<li>Non-incremental mode: clean and execute everything from scratch</li>
<li>Dry-run mode: the commands are written to screen instead of being executed</li>
</ul>
<h4 id="use-scripts-and-not-notebooks-for-long-running-jobs">Use scripts and not notebooks for long-running jobs</h4>
<ul>
<li>We prefer to use scripts to execute code that might take long time (e.g.,
  hours) to run, instead of notebooks</li>
<li>Pros of script</li>
<li>All the parameters are completely specified by a command line</li>
<li>Reproducible and re-runnable</li>
<li>Cons of notebooks</li>
<li>Tend to crash / hang for long jobs</li>
<li>Not easy to understand if the notebook is doing progress</li>
<li>Not easy to get debug output</li>
<li>Notebooks are designed for interactive computing / debugging and not batch
  jobs</li>
<li>You can experiment with notebooks, move the code into a library, and wrap it
    in a script</li>
</ul>
<h4 id="follow-the-same-structure">Follow the same structure</h4>
<ul>
<li>
<p>All python scripts that are meant to be executed directly should:</p>
</li>
<li>
<p>Be marked as executable files with:
     <code>&gt; chmod +x foo_bar.py</code></p>
</li>
<li>Have the python code should start with the standard Unix shebang notation:
     <code>python
     #!/usr/bin/env python</code></li>
<li>This line tells the shell to use the <code>python</code> defined in the environment</li>
<li>
<p>In this way you can execute directly without prepending with python</p>
</li>
<li>
<p>Have a:
     <code>python
     if __name__ == "__main__":
         ...</code></p>
</li>
<li>Ideally use <code>argparse</code> to have a minimum of customization</li>
</ul>
<h4 id="use-clear-names-for-the-scripts">Use clear names for the scripts</h4>
<ul>
<li>In general scripts (like functions) should have a name like "action_verb".</li>
<li><em>Bad</em><ul>
<li>Examples of bad script names are <code>timestamp_extractor.py</code> and
  <code>timestamp_extractor_v2.py</code></li>
<li>Which timestamp data set are we talking about?</li>
<li>What type of timestamps are we extracting?</li>
<li>What is the difference about these two scripts?</li>
</ul>
</li>
<li>We need to give names to scripts that help people understand what they do and
  the context in which they operate</li>
<li>We can add a reference to the task that originated the work (to give more
  context)</li>
<li><em>Good</em><ul>
<li>E.g., for a script generating a dataset there should be an (umbrella) bug
  for this dataset, that we refer in the bug name, e.g.,
  <code>TaskXYZ_edgar_timestamp_dataset_extractor.py</code></li>
</ul>
</li>
<li>Also where the script is located should give some clue of what is related to</li>
</ul>
<h3 id="functions">Functions</h3>
<h4 id="avoid-using-non-exclusive-bool-arguments">Avoid using non-exclusive <code>bool</code> arguments</h4>
<ul>
<li>While a simple <code>True</code>/<code>False</code> switch may suffice for today's needs, very often
  more flexibility is eventually needed</li>
<li>If more flexibility is needed for a <code>bool</code> argument, you are faced with the
  choice:</li>
<li>Adding another parameter (then parameter combinations grow exponentially and
    may not all make sense)</li>
<li>Changing the parameter type to something else</li>
<li>Either way, you have to change the function interface</li>
<li>To maintain flexibility from the start, opt for a <code>str</code> parameter "mode",
  which is allowed to take a small well-defined set of values.</li>
<li>If an implicit default is desirable, consider making the default value of the
  parameter <code>None</code>. This is only a good route if the default operation is
  non-controversial / intuitively obvious.</li>
</ul>
<h4 id="try-to-make-functions-work-on-multiple-types">Try to make functions work on multiple types</h4>
<ul>
<li>We encourage implementing functions that can work on multiple related types:</li>
<li><em>Bad</em>: implement <code>demean_series()</code>, <code>demean_dataframe()</code></li>
<li><em>Good</em>: implement a function <code>demean(obj)</code> that can work with <code>pd.Series</code>
    and <code>pd.DataFrame</code><ul>
<li>One convention is to call <code>obj</code> the variable whose type is not known until
  run-time</li>
</ul>
</li>
<li>In this way we take full advantage of duck typing to achieve something similar
  to C++ function overloading (actually even more expressive)</li>
<li>Try to return the same type of the input, if possible</li>
<li>E.g., the function called on a <code>pd.Series</code> returns a <code>pd.Series</code></li>
</ul>
<h4 id="avoid-hard-wired-column-name-dependencies">Avoid hard-wired column name dependencies</h4>
<ul>
<li>When working with dataframes, we often want need handle certain columns
  differently, or perform an operation on a strict subset of columns</li>
<li>In these cases, it is tempting to assume that the special columns will have
  specific names, e.g., <code>"datetime"</code></li>
<li>The problem is that column names are</li>
<li>Rarely obvious (e.g., compare <code>"datetime"</code> vs <code>"timestamp"</code> vs <code>"Datetime"</code>)</li>
<li>Tied to specific use cases<ul>
<li>The function you are writing may be written for a specific use case today,
  but what if it is more general</li>
<li>If someone wants to reuse your function in a different setting where
  different column names make sense, why should they have to conform to your
  specific use case's needs?</li>
</ul>
</li>
<li>May overwrite existing column names<ul>
<li>For example, you may decided to call a column <code>"output"</code>, but what if the
  dataframe already has a column with that name?</li>
</ul>
</li>
<li>To get around this, allow the caller to communicate to the function the names
  of any special columns</li>
<li><em>Good</em>
    <code>python
    def func(datetime_col: str):
        ...</code></li>
<li>Make sure that you require column names only if they are actually used by the
  function</li>
<li>If you must use hard-write column names internally or for some application,
  define the column name in the library file as a global variable, like
  <code>python
  DATETIME_COL = "datetime"</code></li>
<li>Users of the library can now access the column name through imports</li>
<li>This prevents hidden column name dependencies from spreading like a virus
    throughout the codebase</li>
</ul>
<h4 id="single-exit-point-from-a-function">Single exit point from a function</h4>
<ul>
<li>Consider the following <em>Bad</em> function
  <code>python
  def _get_zero_element(list_: List):
        if not list_:
            return None
        else:
            return list_[0]</code></li>
<li>Linter message is
    <code>im.kibot/utils.py:394: [R1705(no-else-return), ExpiryContractMapper.extract_contract_expiry] Unnecessary "else" after "return"
    [pylint]</code></li>
<li>Try to have a single exit point from a function, since this guarantees that
  the return value is always the same</li>
<li>In general returning different data structures from the same function (e.g., a
  list in one case and a float in another) is indication of bad design</li>
<li>There are exceptions like a function that works on different types (e.g.,
    accepts a dataframe or a series and then returns a dataframe or a series,
    but the input and output is the same)</li>
<li>Returning different types (e.g., float and string) is also bad</li>
<li>Returning a type or <code>None</code> is typically ok</li>
<li>Try to return values that are consistent so that the client doesn't have to
  switch statement, using <code>isinstance(...)</code></li>
<li>E.g., return a <code>float</code> and if the value can't be computed return <code>np.nan</code>
    (instead of <code>None</code>) so that the client can use the return value in a uniform
    way</li>
<li>Function examples with single exit point
  <code>python
  def _get_zero_element(list_: List):
      if not list_:
          ret = np.nan
      else:
          ret = list_[0]
      return ret</code>
  or
  <code>python
  def _get_zero_element(list_: List):
      ret = np.nan if not list_ else list_[0]
      return ret</code></li>
<li>However in rare cases it is OK to have functions like:
  <code>python
  def ...(...):
      # Handle simple cases.
      ...
      if ...:
          return
      # lots of code
      ...
      return</code></li>
</ul>
<h4 id="order-of-function-parameters">Order of function parameters</h4>
<h5 id="problem">Problem</h5>
<ul>
<li>We want to have a standard, simple, and logical order for specifying the
  arguments of a function</li>
</ul>
<h5 id="decision">Decision</h5>
<ul>
<li>The preferred order is:</li>
<li>Input parameters</li>
<li>Output parameters</li>
<li>In-out parameters</li>
<li>Default parameters</li>
</ul>
<h4 id="consistency-of-ordering-of-function-parameters">Consistency of ordering of function parameters</h4>
<ul>
<li>Try to:</li>
<li>Keep related variables close to each other</li>
<li>Keep the order of parameters similar across functions that have similar
    interface</li>
<li>Enforcing these rules is based on best effort</li>
<li>Pycharm is helpful when changing order of parameters</li>
<li>Use linter to check consistency of types between function definition and
  invocation</li>
</ul>
<h4 id="style-for-default-parameter">Style for default parameter</h4>
<h5 id="problem_1">Problem</h5>
<ul>
<li>How to assign default parameters in a function to make them clear and
  distinguishable?</li>
</ul>
<h5 id="decision_1">Decision</h5>
<ul>
<li>We make all the default parameters keyword-only</li>
<li>This means that we should always specify default parameters using a keyword</li>
<li>When building a function, always put default parameters after <code>*</code></li>
<li>It's ok to use a default parameter in the interface as long as it is a Python
  scalar (which is immutable by definition)</li>
<li><em>Good</em>
    <code>python
    def function(
      value: int = 5,
      *,
      dir_name: str = "hello_world",
    ):</code></li>
<li>You should not use list, maps, objects, etc. as the default value but pass
  <code>None</code> and then initialize the default param inside the function</li>
<li><em>Bad</em>
    <code>python
    def function(
      *,
      obj: Object = Object(),
      list_: List[int] = [],
    ):</code></li>
<li><em>Good</em>
    <code>python
    def function(
      *,
      obj: Optional[Object] = None,
      list_: Optional[List[int]] = None,
    ):
      if obj is None:
        obj = Object()
      if list_ is None:
        list_ = []</code></li>
<li>We use a <code>None</code> default value when a function needs to be wrapped and the
  default parameter needs to be propagated</li>
<li>
<p><em>Good</em></p>
<p>```python
def function1(
  ...,
  *,
  dir_name: Optional[str] = None,
):
  dir_name = dir_name or "/very_long_path"</p>
<p>def function2(
  ...,
  *,
  dir_name: Optional[str] = None,
):
  function1(..., dir_name=dir_name)
```</p>
</li>
</ul>
<h5 id="rationale">Rationale</h5>
<ul>
<li>Pros of the <em>Good</em> vs <em>Bad</em> style</li>
<li>When you wrap multiple functions, each function needs to propagate the
    default parameters, which:<ul>
<li>Violates DRY; and</li>
<li>Adds maintenance burden (if you change the innermost default parameter,
  you need to change all of them!)</li>
<li>With the proposed approach, all the functions use <code>None</code>, until the
  innermost function resolves the parameters to the default values</li>
</ul>
</li>
<li>The interface is cleaner</li>
<li>Implementation details are hidden (e.g., why should the caller know what is
    the default path?)</li>
<li>Mutable parameters can not be passed through (see
    <a href="https://stackoverflow.com/questions/1132941/least-astonishment-and-the-mutable-default-argument">here</a>))</li>
<li>Cons:</li>
<li>One needs to add <code>Optional</code> to the type hint</li>
</ul>
<h4 id="calling-functions-with-default-parameters">Calling functions with default parameters</h4>
<h5 id="problem_2">Problem</h5>
<ul>
<li>You have a function
  <code>python
  def func(
    task_name : str,
    dataset_dir : str,
    *,
    clobber : bool = clobber,
  ):
  ...</code></li>
<li>How should it be invoked?</li>
</ul>
<h5 id="decision_2">Decision</h5>
<ul>
<li>We prefer to</li>
<li>Assign directly the positional parameters</li>
<li>Bind explicitly the parameters with a default value using their name</li>
<li>Do not put actual parameter values to the function call but specify them
    right before</li>
<li><em>Bad</em>
    <code>python
    func("some_task_name", "/dir/subdir", clobber=False)</code></li>
<li><em>Good</em>
    <code>python
    task_name = "some_task_name"
    dataset_dir = "/dir/subdir"
    clobber = False
    func(task_name, dataset_dir, clobber=clobber)</code></li>
</ul>
<h5 id="rationale_1">Rationale</h5>
<ul>
<li>Pros of <em>Good</em> vs <em>Bad</em> style</li>
<li>If a new parameter with a default value is added to the function <code>func</code>
    before <code>clobber</code>:<ul>
<li>The <em>Good</em> idiom doesn't need to be changed</li>
<li>All instances of the <em>Bad</em> idiom need to be updated</li>
<li>The <em>Bad</em> idiom might keep working but with silent failures</li>
<li>Of course <code>mypy</code> and <code>Pycharm</code> might point this out</li>
</ul>
</li>
<li>The <em>Good</em> style highlights which default parameters are being overwritten,
    by using the name of the parameter<ul>
<li>Overwriting a default parameter is an exceptional situation that should be
  explicitly commented</li>
</ul>
</li>
<li>Cons:</li>
<li>None</li>
</ul>
<h4 id="dont-repeat-non-default-parameters">Don't repeat non-default parameters</h4>
<h5 id="problem_3">Problem</h5>
<ul>
<li>Given a function with the following interface:
  <code>python
  def mult_and_sum(multiplier_1, multiplier_2, sum_):
      return multiplier_1 * multiplier_2 + sum_</code>
  how to invoke it?</li>
</ul>
<h5 id="decision_3">Decision</h5>
<ul>
<li>Positional arguments are not default, so not keyword-only for consistency</li>
<li><em>Bad</em>
    <code>python
    a = 1
    b = 2
    c = 3
    mult_and_sum(multiplier_1=a,
                 multiplier_2=b,
                 sum_=c)</code></li>
<li><em>Good</em>
    <code>python
    a = 1
    b = 2
    c = 3
    mult_and_sum(a, b, c)</code></li>
</ul>
<h5 id="rationale_2">Rationale</h5>
<ul>
<li>Pros of <em>Good</em> vs <em>Bad</em></li>
<li>Non-default parameters in Python require all the successive parameters to be
    name-assigned<ul>
<li>This causes maintenance burden</li>
</ul>
</li>
<li>The <em>Bad</em> approach is in contrast with our rule for the default parameters<ul>
<li>We want to highlight which parameters are overriding the default</li>
</ul>
</li>
<li>The <em>Bad</em> approach in practice requires all positional parameters to be
    assigned explicitly causing:<ul>
<li>Repetition in violation of DRY (e.g., you need to repeat the same
  parameter everywhere); and</li>
<li>Maintainance burden (e.g., if you change the name of a function parameter
  you need to change all the invocations)</li>
</ul>
</li>
<li>The <em>Bad</em> style is a convention used in no language (e.g., C, C++, Java)<ul>
<li>All languages allow binding by parameter position</li>
<li>Only some languages allow binding by parameter name</li>
</ul>
</li>
<li>The <em>Bad</em> makes the code very wide, creating problems with our 80 columns
    rule</li>
<li>Cons of <em>Good</em> vs <em>Bad</em></li>
<li>One could argue that the <em>Bad</em> form is clearer<ul>
<li>IMO the problem is in the names of the variables, which are uninformative,
  e.g., a better naming achieves the same goal of clarity
  <code>python
  mul1 = 1
  mul2 = 2
  sum_ = 3
  mult_and_sum(mul1, mul2, sum_)</code></li>
</ul>
</li>
</ul>
<h3 id="writing-clear-beautiful-code">Writing clear beautiful code</h3>
<h4 id="keep-related-code-close">Keep related code close</h4>
<ul>
<li>E.g., keep code that computes data close to the code that uses it.</li>
<li>This holds also for notebooks: do not compute all the data structure and then
  analyze them.</li>
<li>It’s better to keep the section that “reads data” close to the section that
  “processes it”. In this way it’s easier to see “blocks” of code that are
  dependent from each other, and run only a cluster of cells.</li>
</ul>
<h4 id="order-functions-in-topological-order">Order functions in topological order</h4>
<ul>
<li>Order functions / classes in topological order so that the ones at the top of
  the files are the "innermost" and the ones at the end of the files are the
  "outermost"</li>
<li>In this way, reading the code top to bottom one should not find a forward
    reference that requires skipping back and forth</li>
<li>Linter reorders functions and classes in the topological order so make sure
  you run it after adding new ones</li>
</ul>
<h4 id="distinguish-public-and-private-functions">Distinguish public and private functions</h4>
<ul>
<li>The public functions <code>foo_bar()</code> (not starting with <code>_</code>) are the ones that
  make up the interface of a module and that are called from other modules and
  from notebooks</li>
<li>Use private functions like <code>_foo_bar()</code> when a function is a helper of another
  private or public function</li>
<li>Also follow the “keep related code close” close by keeping the private
  functions close to the functions (private or public) that are using them</li>
<li>Some references:</li>
<li><a href="https://stackoverflow.com/questions/1641219/does-python-have-private-variables-in-classes?noredirect=1&amp;lq=1">StackOverflow</a></li>
</ul>
<h4 id="keep-public-functions-organized-in-a-logical-order">Keep public functions organized in a logical order</h4>
<ul>
<li>Keep the public functions in an order related to the use representing the
  typical flow of use, e.g.,</li>
<li>Common functions, used by all other functions</li>
<li>Read data</li>
<li>Process data</li>
<li>Save data</li>
<li>You can use banners to separate layers of the code. Use the banner long 80
  cols (e.g., I have a vim macro to create banners that always look the same)
  and be consistent with empty lines before / empty and so on.</li>
<li>The banner is a way of saying “all these functions belong together”.</li>
</ul>
<p>```python
  # #############################################################################
  # Read data.
  # #############################################################################</p>
<p>def _helper1_to_func1():
  ...
  def _helper2_to_func1():
  ...
  def func1_read_data1():
      _helper1_to_func1()
      ...
      _helper2_to_func2()</p>
<p># #############################################################################
  # Process data.
  # #############################################################################
  ...
  # #############################################################################
  # Save data.
  # #############################################################################
  ...
  ```</p>
<ul>
<li>Ideally each section of code should use only sections above, and be used by
  sections below (aka “Unix layer approach”).</li>
<li>If you find yourself using too many banners this is in indication that code
  might need to be split into different classes or files</li>
<li>Although we don’t have agreed upon rules, it might be ok to have large files
    as long as they are well organized. E.g., in pandas code base, all the code
    for DataFrame is in a single file long many thousands of lines (!), but it
    is nicely separated in sections that make easy to navigate the code</li>
<li>Too many files can become problematic, since one needs to start jumping
    across many files: in other words it is possible to organize the code too
    much (e.g. what if each function is in a single module?)</li>
<li>Let’s try to find the right balance.</li>
<li>It might be a good idea to use classes to split the code, but also OOP can
  have a dark side</li>
<li>E.g., using OOP only to reorganize the code instead of introducing
    “concepts”</li>
<li>IMO the worst issue is that they don’t play super-well with Jupyter
    autoreload</li>
</ul>
<h4 id="do-not-make-tiny-wrappers">Do not make tiny wrappers</h4>
<ul>
<li>Examples of horrible functions:</li>
<li>How many characters do we really saved? If typing is a problem, learn to
    touch type.
    <code>python
    def is_exists(path: str) -&gt; None:
        return os.path.exists(path)</code>
    or
    <code>python
    def make_dirs(path: str) -&gt; List[str]:
        os.makedirs(path)</code></li>
<li>This one can be simply replaced by <code>os.path.dirname</code>
    <code>python
    def folder_name(f_name: str) -&gt; str:
        if f_name[-1] != "/":
            return f_name + "/"
        return f_name</code></li>
</ul>
<h4 id="regex">Regex</h4>
<ul>
<li>The rule of thumb is to compile a regex expression, e.g.,
  <code>python
  backslash_regex = re.compile(r"\\")</code>
  only if it's called more than once, otherwise the overhead of compilation and
  creating another var is not justified</li>
</ul>
<h4 id="do-not-introduce-another-concept-unless-really-needed">Do not introduce another “concept” unless really needed</h4>
<ul>
<li>We want to introduce degrees of freedom and indirection only when we think
  this can be useful to make the code easy to maintain, read, and expand.</li>
<li>If we add degrees of freedom everywhere just because we think that at some
  point in the future this might be useful, then there is very little advantage
  and large overhead.</li>
<li>Introducing a new variable, function, class introduces a new concept that one
  needs to keep in mind. People that read the code, needs to go back and forth
  in the code to see what each concept means.</li>
<li>Think about the trade-offs and be consistent.</li>
<li>Example 1
  <code>python
  def fancy_print(txt):
      print "fancy: ", txt</code></li>
<li>Then people that change the code need to be aware that there is a function
    that prints in a special way. The only reason to add this shallow wrapper is
    that, in the future, we believe we want to change all these calls in the
    code.</li>
<li>Example 2
  <code>python
  SNAPSHOT_ID = "SnapshotId"</code></li>
<li>Another example is parametrizing a value used in a single function.</li>
<li>If multiple functions need to use the same value, then this practice can be
    a good idea. If there is a single function using this, one should at least
    keep it local to the function.</li>
<li>Still note that introducing a new concept can also create confusion. What if
    we need to change the code to:
    <code>python
    SNAPSHOT_ID = "TigerId"</code>
    then the variable and its value are in contrast.</li>
</ul>
<h4 id="return-none-or-keep-one-type">Return <code>None</code> or keep one type</h4>
<ul>
<li>Functions that return different types can make things complicated downstream,
  since the callers need to be aware of all of it and handle different cases.
  This also complicates the docstring, since one needs to explicitly explain
  what the special values mean, all the types and so on.</li>
<li>In general returning multiple types is an indication that there is a problem.</li>
<li>Of course this is a trade-off between flexibility and making the code robust
  and easy to understand, e.g.,</li>
<li>In the following example it is better to either return <code>None</code> (to clarify that
  something special happened) or an empty dataframe <code>pd.DataFrame(None)</code> to
  allow the caller code being indifferent to what is returned.</li>
<li><em>Bad</em>
    <code>python
    if "Tags" not in df.columns:
        df["Name"] = np.nan
    else:
        df["Name"] = df["Tags"].apply(extract_name)</code></li>
<li><em>Good</em>
    <code>python
    if "Tags" not in df.columns:
        df["Name"] = None
    else:
        df["Name"] = df["Tags"].apply(extract_name)</code></li>
</ul>
<h4 id="avoid-wall-of-text-functions">Avoid wall-of-text functions</h4>
<ul>
<li><em>Bad</em>
  <code>python
  def get_timestamp_data(raw_df: pd.DataFrame) -&gt; pd.DataFrame:
      timestamp_df = get_raw_timestamp(raw_df)
      documents_series = raw_df.progress_apply(he.extract_documents_v2, axis=1)
      documents_df = pd.concat(documents_series.values.tolist())
      documents_df.set_index(api.cfg.INDEX_COLUMN, drop=True, inplace=True)
      documents_df = documents_df[
          documents_df[api.cfg.DOCUMENTS_DOC_TYPE_COL] != ""]
      types = documents_df.groupby(
          api.cfg.DOCUMENTS_IDX_COL)[api.cfg.DOCUMENTS_DOC_TYPE_COL].unique()
      timestamp_df[api.cfg.TIMESTAMP_DOC_TYPES_COL] = types
      is_xbrl_series = raw_df[api.cfg.DATA_COLUMN].apply(he.check_xbrl)
      timestamp_df[api.cfg.TIMESTAMP_DOC_ISXBRL_COL] = is_xbrl_series
      timestamp_df[api.cfg.TIMESTAMP_DOC_EX99_COL] = timestamp_df[
          api.cfg.TIMESTAMP_DOC_TYPES_COL].apply(
              lambda x: any(['ex-99' in t.lower() for t in x]))
      timestamp_df = timestamp_df.rename(columns=api.cfg.TIMESTAMP_COLUMN_RENAMES)
      return timestamp_df</code></li>
<li>This function is correct but it has few problems (e.g., lack of a docstring,
    lots of unclear concepts, abuse of constants).</li>
<li><em>Good</em></li>
</ul>
<p>```python
  def get_timestamp_data(raw_df: pd.DataFrame) -&gt; pd.DataFrame:
      """
      Get data containing timestamp information.</p>
<pre><code>  :param raw_df: input non-processed data
  :return: timestamp data
  """
  # Get data containing raw timestamp information.
  timestamp_df = get_raw_timestamp(raw_df)
  # Extract the documents with data type information.
  documents_series = raw_df.progress_apply(he.extract_documents_v2, axis=1)
  documents_df = pd.concat(documents_series.values.tolist())
  documents_df.set_index(api.cfg.INDEX_COLUMN, drop=True, inplace=True)
  documents_df = documents_df[
      documents_df[api.cfg.DOCUMENTS_DOC_TYPE_COL] != ""
  ]
  types = documents_df.groupby(
      api.cfg.DOCUMENTS_IDX_COL
  )[api.cfg.DOCUMENTS_DOC_TYPE_COL].unique()
  # Set columns about types of information contained.
  timestamp_df[api.cfg.TIMESTAMP_DOC_TYPES_COL] = types
  is_xbrl_series = raw_df[api.cfg.DATA_COLUMN].apply(he.check_xbrl)
  timestamp_df[api.cfg.TIMESTAMP_DOC_ISXBRL_COL] = is_xbrl_series
  timestamp_df[api.cfg.TIMESTAMP_DOC_EX99_COL] = timestamp_df[
      api.cfg.TIMESTAMP_DOC_TYPES_COL
  ].apply(lambda x: any(["ex-99" in t.lower() for t in x]))
  # Rename columns to canonical representation.
  timestamp_df = timestamp_df.rename(columns=api.cfg.TIMESTAMP_COLUMN_RENAMES)
  return timestamp_df
</code></pre>
<p><code>``
  - You should at least split the functions in chunks using</code>#` or even better
    comment what each chunk of code does.</p>
<h3 id="writing-robust-code">Writing robust code</h3>
<h4 id="dont-let-your-functions-catch-the-default-itis">Don’t let your functions catch the default-itis</h4>
<ul>
<li>Default-itis is a disease of a function that manifests itself by getting too
  many default parameters.</li>
<li>Default params should be used only for parameters that 99% of the time are
  constant.</li>
<li>In general we require the caller to be clear and specify all the params.</li>
<li>Functions catch defaultitis when the programmer is lazy and wants to change
  the behavior of a function without changing all the callers and unit tests.
  Resist this urge! <code>grep</code> is friend. Pycharm does this refactoring
  automatically.</li>
</ul>
<h4 id="explicitly-bind-default-parameters">Explicitly bind default parameters</h4>
<ul>
<li>It’s best to explicitly bind functions with the default params so that if the
  function signature changes, your functions doesn’t confuse a default param was
  a positional one.</li>
<li><em>Bad</em>
    <code>python
    hdbg.dassert(
        args.form or args.form_list,
        "You must specify one of the parameters: --form or --form_list",
    )</code></li>
<li><em>Good</em>
    <code>python
    hdbg.dassert(
        args.form or args.form_list,
        msg="You must specify one of the parameters: --form or --form_list",
    )</code></li>
</ul>
<h4 id="dont-hardwire-params-in-a-function-call">Don’t hardwire params in a function call</h4>
<ul>
<li><em>Bad</em>
  <code>python
  esa_df = universe.get_esa_universe_mapped(False, True)</code></li>
<li>It is difficult to read and understand without looking for the invoked
    function (aka write-only code) and it’s brittle since a change in the
    function params goes unnoticed.</li>
<li><em>Good</em>
  <code>python
  gvkey = False
  cik = True
  esa_df = universe.get_esa_universe_mapped(gvkey, cik)</code></li>
<li>It’s better to be explicit (as usual)</li>
<li>This solution is robust since it will work as long as gvkey and cik are the
    only needed params, which is as much as we can require from the called
    function.</li>
</ul>
<h4 id="make-if-elif-else-complete">Make <code>if-elif-else</code> complete</h4>
<ul>
<li>In general all the <code>if-elif-else</code> statements should to be complete, so that
  the code is robust.</li>
<li><em>Bad</em>
  <code>python
  hdbg.dassert_in(
      frequency,
      ["D", "T"]
      "Only daily ('D') and minutely ('T') frequencies are supported.",
  )
  if frequency == "T":
      ...
  if frequency == "D":
      ...</code></li>
<li><em>Good</em>
  <code>python
  if frequency == "T":
      ...
  elif frequency == "D":
      ...
  else:
      raise ValueError("The %s frequency is not supported" % frequency)</code></li>
<li>This code is robust and correct</li>
<li>Still the <code>if-elif-else</code> is enough and the assertion is not needed<ul>
<li>DRY here wins: you don't want to have to keep two pieces of code in sync</li>
<li>The last line is a catch-all that makes sure even if we modify the
  previous</li>
</ul>
</li>
<li>It makes sense to check early only when you want to fail before doing more
    work</li>
<li>E.g., sanity checking the parameters of a long running function, so that it
    doesn't run for 1 hr and then crash because the name of the file is
    incorrect</li>
</ul>
<h4 id="add-todos-when-needed">Add TODOs when needed</h4>
<ul>
<li>When there is something that you know you should have done, but you didn’t
  have time to do, add a TODO, possibly using your github name e.g.,
  <code>python
  # TODO(gp): …</code></li>
<li>In this way it’s easy to grep for your TODOs, which becomes complicated when
    using different names.</li>
<li>Be clear on the meaning of TODO</li>
<li>A <code>TODO(Batman): clean this up</code> can be interpreted as<ol>
<li>"Batman suggested to clean this up"</li>
<li>"Batman should clean this up"</li>
<li>"Batman has the most context to explain this problem or fix it"</li>
</ol>
</li>
<li>On the one hand, <code>git blame</code> will report who created the TODO, so the first
    meaning is redundant.</li>
<li>On the other hand, since we follow a shared ownership of the code, the
    second meaning should be quite infrequent. In fact the code has mostly
    <code>TODO(*)</code> todos, where <code>*</code> relates to all the team members</li>
<li>Given pros and cons, the proposal is to use the first meaning.</li>
<li>This is also what Google style guide suggests
    <a href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md#312-todo-comments">here</a></li>
<li>If the TODO is associated with a Github issue, you can simply put the issue
  number and description inside the TODO, e.g.,
  <code>python
  # TODO(Grisha): "Handle missing tiles" CmTask #1775.</code></li>
<li>You can create a TODO for somebody else, or you can create a Upsource comment
  / review or Github bug, depending on how important the issue is</li>
<li>If the TODO is general, e.g., anybody can fix it, then you can avoid to put a
  name. This should not be abused since it creates a culture when people don’t
  take responsibility for their mistakes.</li>
<li>You can use P1, P2 to indicate if the issue is critical or not. E.g., P0 is
  the default for saying this is important, P1 is more of a “nice to have”.
  <code>python
  # TODO(Sergey): P1 This can be implemented in pandas using a range generation.</code></li>
</ul>
<h3 id="common-python-mistakes">Common Python mistakes</h3>
<h4 id="vs-is"><code>==</code> vs <code>is</code></h4>
<ul>
<li><code>is</code> checks whether two variables point to the same object (aka reference
  equality), while <code>==</code> checks if the two pointed objects are equivalent (value
  equality).</li>
<li>For checking against types like <code>None</code> we want to use <code>is</code>, <code>is not</code></li>
<li><em>Bad</em>
    <code>python
    if var == None:</code></li>
<li>_Good__
    <code>python
    if var is None:</code></li>
<li>For checking against values we want to use <code>==</code></li>
<li><em>Bad</em>
    <code>python
    if unit is "minute":</code></li>
<li>_Good__
    <code>python
    if unit == "minute":</code></li>
<li>For more info checks
  <a href="https://stackoverflow.com/questions/132988/is-there-a-difference-between-and-is-in-python">here</a></li>
</ul>
<h4 id="type-vs-isinstance"><code>type()</code> vs <code>isinstance()</code></h4>
<ul>
<li><code>type(obj) == list</code> is worse since we want to test for reference equality (the
  type of object is a list) and not the type of obj is equivalent to a list.</li>
<li><code>isinstance</code> caters for inheritance (an instance of a derived class is an
  instance of a base class, too), while checking for equality of type does not
  (it demands identity of types and rejects instances of subtypes, AKA
  subclasses).</li>
<li><em>Bad</em>
    <code>python
    if type(obj) is list:</code></li>
<li>_Good__
    <code>python
    if isinstance(obj, list):</code></li>
<li>For more info check
  <a href="https://stackoverflow.com/questions/1549801/what-are-the-differences-between-type-and-isinstance">here</a></li>
</ul>
<h3 id="unit-tests">Unit tests</h3>
<ul>
<li>Provide a minimal end-to-end unit testing (which creates a conda environment
  and then run a few unit tests)</li>
<li>Use</li>
<li>Pytest <a href="https://docs.pytest.org/en/latest/">https://docs.pytest.org/en/latest/</a></li>
<li><code>unittest</code> library</li>
<li>Usually we are happy with</li>
<li>Lightly testing the tricky functions</li>
<li>Some end-to-end test to make sure the code is working</li>
<li>Use your common sense</li>
<li>E.g., no reason to test code that will be used only once</li>
<li>To run unit tests in a single file
  ```<blockquote>
<p>pytest datetime_utils_test.py -x -s
  ```</p>
</blockquote>
</li>
<li>For more information on our testing conventions and guidelines, see
  <code>docs/coding/all.unit_tests.how_to_guide.md</code></li>
</ul>
<h3 id="refactoring">Refactoring</h3>
<h4 id="when-moving-refactoring-code">When moving / refactoring code</h4>
<ul>
<li>If you move files, refactor code, move functions around make sure that:</li>
<li>Code and notebook work (e.g., imports and caller of the functions)</li>
<li>Documentation is updated (this is difficult, so best effort is enough)</li>
<li>For code find all the places that have been modified
  ```<blockquote>
<p>grep -r "create_dataframe" *
  edgar/form_4/notebooks/Task252_EDG4_Coverage_of_our_universe_from_Forms4.ipynb:    "documents, transactions = edu.create_dataframes(\n",
  edgar/form_4/notebooks/Task313_EDG4_Understand_Form_4_amendments.ipynb:    "documents, transactions = edu.create_dataframes(\n",
  edgar/form_4/notebooks/Task193_EDG4_Compare_form4_against_Whale_Wisdom_and_TR.ipynb:    "documents, transactions, owners, footnotes = edu.create_dataframes(\n",
  ```</p>
</blockquote>
</li>
<li>Or if you use mighty Pycharm, Ctrl + Mouse Left Click (Shows you all places
  where this function or variable was used) and try to fix them, at least to
  give your best shot at making things work</li>
<li>You can edit directly the notebooks without opening, or open and fix it.</li>
<li>Good examples how you can safely rename anything for Pycharm users:
  <a href="https://www.jetbrains.com/help/Pycharm/rename-refactorings.html">https://www.jetbrains.com/help/Pycharm/rename-refactorings.html</a></li>
<li>But remember, you must know how to do it without fancy IDE like Pycharm.</li>
<li>If it’s important code:</li>
<li>Run unit tests</li>
<li>Run notebooks (see
    <a href="https://n-xovwktmtjsnaxyc2mwes2xu7pohqedmdm6zjw5q-0lu-script.googleusercontent.com/userCodeAppPanel#">here</a>)</li>
</ul>
<h4 id="write-script-for-renamings">Write script for renamings</h4>
<ul>
<li>When you need to rename any code object that is being used in many files, use
  <code>dev_scripts/replace_text.py</code> to write a script that will implement your task</li>
<li>Read the script docstring for detailed information about how to use it</li>
<li>You DO NOT use <code>replace_text.py</code> directly. Instead, create an executable <code>.sh</code>
  script that uses <code>replace_text.py</code></li>
<li>Look for examples at <code>dev_scripts/cleanup_scripts</code></li>
<li>Commit the created script to the mentioned folder so then your team members
    can use it to implement renaming in other libs</li>
</ul>
<h3 id="architectural-and-design-pattern">Architectural and design pattern</h3>
<h4 id="research-quality-vs-production-quality">Research quality vs production quality</h4>
<ul>
<li>Code belonging to top level libraries (e.g., <code>//amp/core</code>, <code>//amp/helpers</code>)
  and production (e.g., <code>//.../db</code>, <code>vendors</code>) needs to meet high quality
  standards, e.g.,</li>
<li>Well commented</li>
<li>Following our style guide</li>
<li>Thoroughly reviewed</li>
<li>Good design</li>
<li>Comprehensive unit tests</li>
<li>Research code in notebook and python can follow slightly looser standards,
  e.g.,</li>
<li>Sprinkled with some TODOs</li>
<li>Not perfectly general</li>
<li>The reason is that:</li>
<li>Research code is still evolving and we want to keep the structure flexible</li>
<li>We don't want to invest the time in making it perfect if the research
    doesn't pan out</li>
<li>Note that research code still needs to be:</li>
<li>Understandable / usable by not authors</li>
<li>Well commented</li>
<li>Follow the style guide</li>
<li>Somehow unit tested</li>
<li>We should be able to raise the quality of a piece of research code to
  production quality when that research goes into production</li>
</ul>
<h4 id="always-separate-what-changes-from-what-stays-the-same">Always separate what changes from what stays the same</h4>
<ul>
<li>In both main code and unit test it's not a good idea to repeat the same code</li>
<li><em>Bad</em></li>
<li>Copy-paste-modify</li>
<li><em>Good</em></li>
<li>Refactor the common part in a function and then change the parameters used
    to call the function</li>
<li>Example:</li>
<li>What code is clearer to you, VersionA or VersionB?</li>
<li>
<p>Can you spot the difference between the 2 pieces of code?</p>
<ul>
<li>Version A</li>
</ul>
<p>```python
  stopwords = nlp_ut.read_stopwords_json(_STOPWORDS_PATH)
  texts = ["a", "an", "the"]
  stop_words = nlp_ut.get_stopwords(
      categories=["articles"], stopwords=stopwords
  )
  actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
  expected_result = []
  self.assertEqual(actual_result, expected_result)</p>
<p>...
  texts = ["do", "does", "is", "am", "are", "be", "been", "'s", "'m", "'re"]
  stop_words = nlp_ut.get_stopwords(
      categories=["auxiliary_verbs"], stopwords=stopwords,
  )
  actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
  expected_result = []
  self.assertEqual(actual_result, expected_result)
  ```
- Version B</p>
<p>```python
  def _helper(texts, categories, expected_result):
      stopwords = nlp_ut.read_stopwords_json(_STOPWORDS_PATH)
      stop_words = nlp_ut.get_stopwords(
          categories=categories, stopwords=stopwords
      )
      actual_result = nlp_ut.remove_tokens(texts, stop_words=stop_words)
      expected_result = []
      self.assertEqual(actual_result, expected_result)</p>
<p>texts = ["a", "an", "the"]
  categories = ["articles"]
  expected_result = []
  _helper(texts, categories, expected_result)
  ...</p>
<p>texts = ["do", "does", "is", "am", "are", "be", "been", "'s", "'m", "'re"]
  categories = ["auxiliary_verbs"]
  expected_result = []
  <em>helper(texts, categories, expected_result)
  ```
- Yes, Version A is _Bad</em> and Version B is <em>Good</em></p>
</li>
</ul>
<h4 id="organize-scripts-as-pipelines">Organize scripts as pipelines</h4>
<ul>
<li>One can organize complex computations in stages of a pipeline</li>
<li>E.g., to parse EDGAR forms<ul>
<li>Download -&gt; (raw data) -&gt; header parser -&gt; (pq data) -&gt; XBLR / XML / XLS
  parser -&gt; (pq data) -&gt; custom transformation</li>
</ul>
</li>
<li>One should be able to run the entire pipeline or just a piece</li>
<li>E.g., one can run the header parser from the raw data, save the result to
    file, then read this file back, and run the XBLR parser</li>
<li>Ideally one would always prefer to run the pipeline from scratch, but
  sometimes the stages are too expensive to compute over and over, so using
  chunks of the pipeline is better</li>
<li>This can also mixed with the “incremental mode”, so that if one stage has
  already been run and the intermediate data has been generated, that stage is
  skipped</li>
<li>Each stage can save files in a <code>tmp_dir/stage_name</code></li>
<li>The code should be organized to allow these different modes of operations, but
  there is not always need to be super exhaustive in terms of command line
  options</li>
<li>E.g., I implement the various chunks of the pipeline in a library,
    separating functions that read / save data after a stage and then assemble
    the pieces into a throw-away script where I hardwire the file names and so
    on</li>
</ul>
<h4 id="make-filename-unique">Make filename unique</h4>
<ul>
<li><em>Problem</em></li>
<li>We have a lot of structure / boilerplate in our project around RH
    hypotheses.<ul>
<li>E.g., there are corresponding files for all the RH like:</li>
<li><code>RHxyz/configs.py</code></li>
<li><code>RHxyz/pipeline.py</code></li>
</ul>
</li>
<li>It is not clear if it's better to make filenames completely unique by
    repeating the <code>RH</code>, e.g., <code>RH1E_configs.py</code>, or let the directories
    disambiguate.</li>
<li>Note that we are not referring to other common files like <code>utils.py</code>, which
    are made unique by their position in the file system and by the automatic
    shortening of the imports.</li>
<li><em>Decision</em></li>
<li>Invoking the principle of 'explicit is better than implicit', the proposal
    is to repeat the prefix.<ul>
<li><em>Bad</em>: <code>RH1E/configs.py</code></li>
<li><em>Good</em>: <code>RH1E/RH1E_configs.py</code></li>
</ul>
</li>
<li><em>Rationale</em></li>
<li>Pros of the repetition (e.g., <code>RH1E/RH1E_configs.py</code>):<ul>
<li>The filename is unique so there is no dependency on where you are</li>
<li>Since pytest requires all files to be unique, we need to repeat the prefix
  for the test names and the rule is "always make the names of the files
  unique"</li>
<li>We are going to have lots of these files and we want to minimize the risk
  of making mistakes</li>
</ul>
</li>
<li>Cons of the repetition:<ul>
<li>Stuttering</li>
<li>What happens if there are multiple nested dirs? Do we repeat all the
  prefixes?</li>
<li>This seems to be an infrequent case</li>
</ul>
</li>
</ul>
<h4 id="incremental-behavior">Incremental behavior</h4>
<ul>
<li>Often we need to run the same code over and over</li>
<li>E.g., because the code fails on an unexpected point and then we need to
    re-run from the beginning</li>
<li>We use options like:
  <code>--incremental
  --force
  --start_date
  --end_date
  --output_file</code></li>
<li>Check existence output file before start function (or a thread when using
  parallelism) which handle data of the corresponding period</li>
<li>If <code>--incremental</code> is set and output file already exists then skip the
    computation and report<ul>
<li>Log.info(“Skipping processing file %s as requested”, …)</li>
</ul>
</li>
<li>If <code>--incremental</code> is not set<ul>
<li>If output file exists then we issue a log.warn and abort the process</li>
<li>If output file exists and param <code>--force</code>, then report a log.warn and
  rewrite output file</li>
</ul>
</li>
</ul>
<h4 id="run-end-to-end">Run end-to-end</h4>
<ul>
<li>Try to run things end-to-end (and from scratch) so we can catch these
  unexpected issues and code defensively</li>
<li>E.g., we found out that TR data is malformed sometimes and only running
    end-to-end we can catch all the weird cases</li>
<li>This also helps with scalability issues, since if takes 1 hr for 1 month of
    data and we have 10 years of data is going to take 120 hours (=5 days) to
    run on the entire data set</li>
</ul>
<h4 id="think-about-scalability">Think about scalability</h4>
<ul>
<li>Do experiments to try to understand if a code solution can scale to the
  dimension of the data we have to deal with</li>
<li>E.g., inserting data by doing SQL inserts of single rows are not scalable
    for pushing 100GB of data</li>
<li>Remember that typically we need to run the same scripts multiple times (e.g.,
  for debug and / or production)</li>
</ul>
<h4 id="use-command-line-for-reproducibility">Use command line for reproducibility</h4>
<ul>
<li>Try to pass params through command line options when possible</li>
<li>In this way a command line contains all the set-up to run an experiment</li>
</ul>
<h4 id="structure-the-code-in-terms-of-filters">Structure the code in terms of filters</h4>
<ul>
<li>Focus on build a set of "filters" split into different functions, rather than
  a monolithic flow</li>
<li>Organize the code in terms of a sequence of transformations that can be run in
  sequence, e.g.,</li>
<li>Create SQL tables</li>
<li>Convert json data to csv</li>
<li>Normalize tables</li>
<li>Load csv files into SQL</li>
<li>Sanity check the SQL (e.g., mismatching TR codes, missing dates)</li>
<li>Patch up SQL (e.g., inserting missing TR codes and reporting them to us so
     we can check with TR)</li>
</ul>
<h3 id="code-style-for-different-languages">Code style for different languages</h3>
<h4 id="sql">SQL</h4>
<ul>
<li>You can use the package https://github.com/andialbrecht/sqlparse to format SQL
  queries</li>
<li>There is also an on-line version of the same formatter at
  https://sqlformat.org</li>
</ul>
<h2 id="conventions-addendum">Conventions (Addendum)</h2>
<h3 id="be-patient">Be patient</h3>
<ul>
<li>For some reason talking about conventions makes people defensive and
  uncomfortable, sometimes.</li>
<li>Conventions are not a matter of being right or wrong, but to consider pros and
  cons of different approaches, and make the decision only once instead of
  discussing the same problem every time. In this way we can focus on achieving
  the Ultimate Goal.</li>
<li>If you are unsure or indifferent to a choice, be flexible and let other
  persons that seem to be less flexible decide.</li>
</ul>
<h3 id="goal">Goal</h3>
<ul>
<li>The goal of the conventions is to simplify our job by removing ambiguity</li>
<li>There is no right or wrong: that's why it's a convention and not a law of
  nature</li>
<li>On the flip-side, if there is a right and wrong, then what we are discussing
    probably shouldn’t be considered as a convention</li>
<li>We don't want to spend time discussing inconsequential points</li>
<li>We don't want reviewers to pick lints instead of focusing on architectural
  issues and potential bugs</li>
<li>Remove cognitive burden of being distracted by "this is an annoying lint" (or
  at least perceived lint)</li>
<li>Once a convention is stable, we would like to automate enforcing it by the
  linter</li>
<li>Ideally the linter should fix our mistakes so we don't even have to think
    about them, and reviewers don't have to be distracted with pointing out the
    lints</li>
</ul>
<h3 id="keep-the-rules-simple">Keep the rules simple</h3>
<ul>
<li>E.g., assume that we accepted the following rules:</li>
<li>Git is capitalized if it refers to the tool and it's not capitalized when it
    refers to the command (this is what Git documentation suggests)</li>
<li>Python is written capitalized (this is what Python documentation suggests)</li>
<li><code>pandas</code> is written lowercase, unless it is a beginning of the line in which
    case it's capitalized, but it's better to try to avoid to start a sentence
    with it (this is what pandas + English convention seems to suggest)</li>
<li>Any other library could suggest a different convention based on the
    preference of its author, who tries to finally force people to follow his /
    her convention …)</li>
<li>All these rules require mental energy to be followed and readers will spend
  time checking that these rules are enforced, rather than focusing on bugs and
  architecture.</li>
<li>In this case we want to leverage the ambiguity of "it's unclear what is the
  correct approach" by simplifying the rule</li>
<li>E.g., every name of tools or library is always capitalized</li>
<li>This is simple to remember and automatically enforce</li>
</ul>
<h3 id="allow-turning-off-the-automatic-tools">Allow turning off the automatic tools</h3>
<ul>
<li>We understand that tools can't always understand the context and the
  subtleties of human thoughts, and therefore they yield inevitably to false
  positives.</li>
<li>Then we always want to permit disabling the automatic checks / fixes e.g., by
  using directives in comments or special syntax (e.g., anything in a <code>...</code> or
  <code>…</code> block should be leaved untouched)</li>
<li>It can be tricky determining when an exception is really needed and when
  overriding the tool becomes a slippery slope for ignoring the rules.</li>
<li>Patience and flexibility is advised here.</li>
</ul>
<h3 id="make-the-spell-checker-happy">Make the spell-checker happy</h3>
<ul>
<li>The spell-checker is not always right: false positives are often very annoying</li>
<li>We prefer to find a way to make the spell-checker happy rather than argue that
  the spell-checker is wrong and ignore it</li>
<li>The risk with overriding the spell-checker (and any other tool) is that the
  decision is not binary anymore correct / not-correct and can't be automated
  and requires mental energy to see if the flagged error is real or not.</li>
<li>E.g., <code>insample</code> is flagged as erroneous, so we convert it into <code>in-sample</code>.</li>
<li>The solution for the obvious cases of missing a word (e.g., a technical word)
  is to add words to the vocabulary. This still needs to be done by everyone,
  until we find a way to centralize the vocabulary.</li>
<li>E.g., untradable is a valid English word, but Pycharm's spell-checker
    doesn't recognize it.</li>
<li>TODO(*): Should we add it to the dictionary or write it as "un-tradable"?</li>
<li>Still we don't want to override the spell-checker when an alternative
  lower-cost solution is available. E.g.,</li>
<li><code>in-sample</code> instead of <code>insample</code></li>
<li><code>out-of-sample</code> instead of <code>oos</code></li>
<li>We decided that <code>hyper-parameter</code> can be written without hyphen:
  <code>hyperparameter</code></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>